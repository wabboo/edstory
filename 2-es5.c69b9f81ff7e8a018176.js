!function(){function t(n,e,r){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=l(t)););return t}(t,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(e):i.value}})(n,e,r||n)}function n(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}function e(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var e,r=l(t);if(n){var i=l(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return c(this,e)}}function c(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"4GCU":function(e,i,s){"use strict";s.d(i,"a",function(){return b}),s.d(i,"b",function(){return k}),s.d(i,"c",function(){return N});var c=function(t){a(e,t);var n=u(e);function e(){var t;return r(this,e),(t=n.apply(this,arguments)).active=!0,t}return o(e,[{key:"isSystemVisible",value:function(t){return!0}}]),e}(s("8dGy").a),f=s("Womt"),h=function(t){a(e,t);var n=u(e);function e(){var t;return r(this,e),(t=n.apply(this,arguments)).cameraZoom=100,t.cameraAngle=1,t.cameraRotation=1,t.cursorPosition=new f.y,t.flightMode=!0,t.actualZoom=100,t.actualAngle=1,t.actualRotation=1,t}return o(e,[{key:"getActualZoom",value:function(){return this.actualZoom}},{key:"createView",value:function(t){var n=new f.s(.15,.18,20),e=new f.m({color:"cyan",side:f.f}),r=new f.l(n,e);t.add(r),t.renderOrder=100}},{key:"updateModel",value:function(t){this.actualZoom=this.actualZoom+(this.cameraZoom-this.actualZoom)/25,this.actualRotation=this.actualRotation+(this.cameraRotation-this.actualRotation)/10,this.actualAngle=this.actualAngle+(this.cameraAngle-this.actualAngle)/10}},{key:"updateView",value:function(t,n,e){this.flightMode?t.position.lerp(this.cursorPosition,.05):(t.position.x=t.position.x+(this.cursorPosition.x-t.position.x)/2,t.position.y=t.position.y+(this.cursorPosition.y-t.position.y)/2,t.position.z=t.position.z+(this.cursorPosition.z-t.position.z)/2);var r=new f.y,i=new f.y(0,0,1);r.set(Math.sin(this.actualRotation),Math.cos(this.actualRotation),Math.sin(this.actualAngle)),n.camera.position.copy(t.position),n.camera.position.addScaledVector(r,this.actualZoom),n.camera.lookAt(t.position),n.camera.up.copy(i)}}]),e}(c),v=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return o(e,[{key:"createView",value:function(t){this.material=new f.u({side:f.f,uniforms:{uSize1:{value:1},uSize2:{value:10},uColor:{value:new f.c("#2A4040")},uDistance:{value:8e3}},transparent:!0,vertexShader:"\n        varying vec3 worldPosition;\n        uniform float uDistance;\n        void main() {\n            vec3 pos = position.xyz * uDistance;\n            pos.xy += cameraPosition.xy;\n            worldPosition = pos;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n        }\n      ",fragmentShader:"\n        varying vec3 worldPosition;\n\n        uniform float uSize1;\n        uniform float uSize2;\n        uniform vec3 uColor;\n        uniform float uDistance;\n\n        float getGrid(float size) {\n          vec2 r = worldPosition.xy / size;\n          vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n          float line = min(grid.x, grid.y);\n          return 1.3 - min(line, 1.3);\n        }\n\n        void main() {\n          float d = 1.0 - min(distance(cameraPosition.xy, worldPosition.xy) / uDistance, 1.0);\n          float g1 = getGrid(uSize1);\n          float g2 = getGrid(uSize2);\n          gl_FragColor = vec4(uColor.rgb, mix(g2, g1, g1) * pow(d, 256.0));\n          gl_FragColor.a = mix(0.2 * gl_FragColor.a, gl_FragColor.a, g2);\n          if (gl_FragColor.a <= 0.0) discard;\n        }\n      ",extensions:{derivatives:!0}}),this.geometry=new f.p(2,2,1,1),this.mesh=new f.l(this.geometry,this.material),this.mesh.frustumCulled=!1,t.add(this.mesh),t.renderOrder=-100}},{key:"updateView",value:function(t,n,e){n instanceof k||n instanceof N?(t.position.z=n.cursor.getPosition().z,t.visible=!0):t.visible=!1}}]),e}(c),p=s("UR3C"),y=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return o(e,[{key:"settings",get:function(){return p.a.ruler}},{key:"createView",value:function(t){var n=new f.i({color:"#009090",opacity:.5});n.transparent=!0;var e=new f.e(1,1,1,8);this.lineMesh=new f.l(e,n),t.add(this.lineMesh)}},{key:"updateView",value:function(t,n,e){if(n instanceof k)if(this.settings.system&&this.settings.target){var r=this.settings.system.coords.distanceTo(this.settings.target.coords)*this.settings.measures;this.lineMesh.geometry.dispose(),this.lineMesh.geometry=new f.e(.2,.2,r),this.lineMesh.geometry.rotateX(.5*Math.PI),this.lineMesh.geometry.translate(0,0,r/2),t.position.copy(this.settings.system.coords),t.lookAt(this.settings.target.coords),t.visible=!0}else t.visible=!1;else t.visible=!1}}]),e}(c),m=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return o(e,[{key:"settings",get:function(){return p.a.rangeFinder}},{key:"createView",value:function(t){this.geometry=new f.s(1,2,20),this.material=new f.m({color:"teal",side:f.f,transparent:!0,opacity:.1}),this.ring=new f.l(this.geometry,this.material),t.add(this.ring)}},{key:"updateView",value:function(t,n,e){if(n instanceof k)if(this.settings.rangeFrom===this.actualRangeFrom&&this.settings.rangeTo===this.actualRangeTo||this.resizeRing(),this.active&&this.settings.system&&this.actualRangeTo>0){var r=n.cursor.getPosition().z,i=1-Math.abs(this.settings.system.coords.z-r)/this.actualRangeTo;i>0?this.ring.scale.set(i,i,1):this.ring.scale.set(0,0,0),t.position.x=this.settings.system.coords.x,t.position.y=this.settings.system.coords.y,t.position.z=r-.1,t.visible=!0}else t.visible=!1;else t.visible=!1}},{key:"isSystemVisible",value:function(t){if(this.active&&this.settings.system&&this.settings.system!==t){var n=Math.abs(this.settings.system.coords.distanceTo(t.coords));if(n<this.actualRangeFrom||n>this.actualRangeTo)return!1}return!0}},{key:"resizeRing",value:function(){var t=new f.s(this.settings.rangeFrom,this.settings.rangeTo,40);this.geometry.copy(t),this.geometry.elementsNeedUpdate=!0,t.dispose(),this.actualRangeFrom=this.settings.rangeFrom,this.actualRangeTo=this.settings.rangeTo}}]),e}(c),d=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return o(e,[{key:"settings",get:function(){return p.a.triangulate}},{key:"createView",value:function(t){this.geometry=new f.a,this.fillMaterial=new f.m({color:"teal",side:f.f,transparent:!0,opacity:.1}),this.lineMaterial=new f.m({color:"teal",side:f.f,wireframe:!0}),this.triangle=new f.l(this.geometry,this.fillMaterial),this.triangle.frustumCulled=!1,this.triangleOutline=new f.h(this.geometry,this.lineMaterial),this.triangleOutline.frustumCulled=!1,t.add(this.triangle),t.add(this.triangleOutline)}},{key:"updateView",value:function(t,n,e){this.settings.system1&&this.settings.system2&&this.settings.system3?(this.geometry.setFromPoints([this.settings.system1.coords,this.settings.system2.coords,this.settings.system3.coords]),t.visible=!0):t.visible=!1}}]),e}(c),g=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return o(e,[{key:"system",get:function(){return p.a.selectedSystem},set:function(t){p.a.selectedSystem=t}},{key:"createView",value:function(t){var n=new f.d(.2,.4,16),e=new f.m({color:"cyan"}),r=new f.l(n,e);r.rotation.x-=.5*Math.PI,t.add(r)}},{key:"updateView",value:function(t,n,e){n instanceof k&&this.system?(t.position.copy(this.system.coords),t.position.z+=.4,t.visible=!0):t.visible=!1}}]),e}(c),w=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return o(e,[{key:"system",get:function(){return p.a.currentSystem},set:function(t){p.a.currentSystem=t}},{key:"createView",value:function(t){var n=new f.d(.2,.4,16),e=new f.m({color:"orange"}),r=new f.l(n,e);r.rotation.x-=.5*Math.PI,t.add(r)}},{key:"updateView",value:function(t,n,e){n instanceof k&&this.system?(t.position.copy(this.system.coords),t.position.z+=.4,t.visible=!0):t.visible=!1}}]),e}(c),b=1e6,F=function(){function t(n,e){r(this,t),this.camera=n,this.screen=e}return o(t,[{key:"update",value:function(t){var e,r=n(this.getSpaceObjects());try{for(r.s();!(e=r.n()).done;){e.value.run(t)}}catch(a){r.e(a)}finally{r.f()}var i,o=n(this.getSpaceObjects());try{for(o.s();!(i=o.n()).done;){i.value.update(t,this)}}catch(a){o.e(a)}finally{o.f()}}}]),t}(),k=function(e){a(s,e);var i=u(s);function s(){var t;return r(this,s),(t=i.apply(this,arguments)).cursor=new h,t.plane=new v,t.triangulation=new d,t.rangeFinder=new m,t.ruler=new y,t.current=new w,t.selected=new g,t}return o(s,[{key:"getSpaceObjects",value:function(){return[this.starSector,this.plane,this.triangulation,this.rangeFinder,this.ruler,this.selected,this.current,this.cursor]}},{key:"isSystemVisible",value:function(t){var e,r=n(this.getSpaceObjects());try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i instanceof c&&!i.isSystemVisible(t))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"focusSystem",value:function(t){this.cursor.flightMode=!0,this.cursor.cursorPosition.copy(t.coords),this.cursor.cameraZoom>10&&(this.cursor.cameraZoom=10)}},{key:"update",value:function(n){p.a.focusSystem&&(this.focusSystem(p.a.focusSystem),p.a.focusSystem=void 0),t(l(s.prototype),"update",this).call(this,n)}}]),s}(F),N=function(n){a(i,n);var e=u(i);function i(){var t;return r(this,i),(t=e.apply(this,arguments)).cursor=new h,t.plane=new v,t}return o(i,[{key:"getSpaceObjects",value:function(){return[this.starSystem,this.cursor,this.plane]}},{key:"update",value:function(n){t(l(i.prototype),"update",this).call(this,n)}}]),i}(F)},N5T1:function(e,i,s){"use strict";s.d(i,"a",function(){return ht});var c,f,h=s("Womt"),v=s("QzY6"),p=s("PFai"),y=s("/xNU"),m=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(y.b),d=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="None",t.color="#5C5C5C",t}(),g=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Anarchy",t.color="#FFD600",t}(),w=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Colony",t.color="#BCFF00",t}(),b=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Democracy",t.color="#49FC02",t}(),F=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Imperial",t.color="#00FF09",t}(),k=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Corporate",t.color="#00FF71",t}(),N=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Communist",t.color="#00FFF0",t}(),S=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Feudal",t.color="#00A6FF",t}(),M=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Dictatorship",t.color="#0037FB",t}(),C=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Theocracy",t.color="#1D00FF",t}(),x=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Cooperative",t.color="#9200FF",t}(),P=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Patronage",t.color="#FF00FF",t}(),O=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Confederacy",t.color="#FE0100",t}(),z=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Prison colony",t.color="#F86000",t}(),A=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Workshop",t.color="#767875",t}(),B=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Detention centre",t.color="#680000",t}(),R=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(m);return t.itemName="Private ownership",t.color="#006700",t}(),V=((c=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(y.c)).items=[d,g,w,b,F,k,N,S,M,C,x,P,O,z,A,B,R],c),T=s("NISJ"),j=s("sX/a"),I=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(y.b),E=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="None",t.color="#5C5C5C",t}(),D=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Retreat",t.color="#FE0201",t}(),J=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="War",t.color="#FF7600",t}(),$=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Lockdown",t.color="#FFFF00",t}(),Z=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Cinvil unrest",t.color="#74FF00",t}(),_=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Civil war",t.color="#009300",t}(),U=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Boom",t.color="#02FFFF",t}(),G=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Expansion",t.color="#287AFF",t}(),L=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Bust",t.color="#003CFA",t}(),W=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Outbreak",t.color="#5E00E8",t}(),X=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Famine",t.color="#E600E9",t}(),H=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Election",t.color="#873B09",t}(),Y=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Investment",t.color="#FFFFFF",t}(),q=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Civil liberty",t.color="#FD308B",t}(),K=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Incursion",t.color="#5B002C",t}(),Q=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Blight",t.color="#C1335B",t}(),tt=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Natural disaster",t.color="#FF0205",t}(),nt=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Infrastructure failure",t.color="#C5762B",t}(),et=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Drought",t.color="#04FF9F",t}(),rt=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Terrorist Attack",t.color="#737270",t}(),it=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(I);return t.itemName="Public holiday",t.color="#823DB4",t}(),ot=((f=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(y.c)).items=[E,D,J,$,Z,_,U,G,L,W,X,H,Y,q,K,Q,tt,nt,et,rt,it],f),at=s("UR3C"),st=s("8dGy"),ut=s("4GCU"),ct=function(n){a(i,n);var e=u(i);function i(){var t;return r(this,i),(t=e.apply(this,arguments)).eccentricity=0,t.orbitalInclination=0,t.orbitalPeriod=1,t.$artificials=[],t}return o(i,[{key:"artificials",get:function(){return this.$artificials}},{key:"addArtificial",value:function(t){this.attach(t),this.$artificials.push(t)}},{key:"load",value:function(n){t(l(i.prototype),"load",this).call(this,n),this.radius=i.KmToLs(n.radius),this.orbitalPeriod=n.orbitalPeriod?n.orbitalPeriod:0,this.semiMajorAxis=i.AuToLs(n.semiMajorAxis?n.semiMajorAxis:0),this.orbitalInclination=n.orbitalInclination?n.orbitalInclination:0,this.eccentricity=n.eccentricity?n.eccentricity:0}},{key:"updateView",value:function(t,n,e){var r=24*this.orbitalPeriod*60*60*1e3,i=(e*=2e4)%r/r,o=2*Math.PI*(i||0);Math.tan(.0174532925*this.orbitalInclination),t.position.x=this.semiMajorAxis*(Math.sin(o)-this.eccentricity),t.position.y=Math.cos(o)*this.semiMajorAxis*Math.sqrt(1-this.eccentricity*this.eccentricity),t.visible&&n.screen.renderText(t,t.name,{fallOffStart:3e7,fallOff:16})}}]),i}(st.a),lt=function(e){a(s,e);var i=u(s);function s(){var t;return r(this,s),(t=i.apply(this,arguments)).$planets=[],t}return o(s,[{key:"planets",get:function(){return this.$planets}},{key:"addPlanet",value:function(t){this.attach(t),this.$planets.push(t)}},{key:"load",value:function(e){if(t(l(s.prototype),"load",this).call(this,e),e.planets){var r,i=n(e.planets);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=new s;a.load(o),this.addPlanet(a)}}catch(u){i.e(u)}finally{i.f()}}}},{key:"createView",value:function(t){if(t.name=this.name,this.getParent()instanceof s){var n=new h.v(this.radius,25,25),e=new h.m({color:"gray"});return this.bodyMesh=new h.l(n,e),t.add(this.bodyMesh),void(t.visible=!1)}var r=new h.v(this.radius,25,25),i=new h.m({color:"green"});this.bodyMesh=new h.l(r,i),t.add(this.bodyMesh)}},{key:"updateView",value:function(n,e,r){t(l(s.prototype),"updateView",this).call(this,n,e,r),e instanceof ut.c&&(this.getParent()instanceof s?this.bodyMesh.scale.setScalar(100):this.bodyMesh.scale.setScalar(2))}}]),s}(ct),ft=function(e){a(s,e);var i=u(s);function s(){var t;return r(this,s),(t=i.apply(this,arguments)).$planets=[],t}return o(s,[{key:"planets",get:function(){return this.$planets}},{key:"addPlanet",value:function(t){this.attach(t),this.$planets.push(t)}},{key:"load",value:function(e){if(t(l(s.prototype),"load",this).call(this,e),e.planets){var r,i=n(e.planets);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=new lt;a.load(o),this.addPlanet(a)}}catch(u){i.e(u)}finally{i.f()}}}},{key:"createView",value:function(t){t.name=this.name;var n=new h.v(this.radius,25,25),e=new h.m({color:"yellow"});this.starMesh=new h.l(n,e),t.add(this.starMesh)}},{key:"updateView",value:function(n,e,r){t(l(s.prototype),"updateView",this).call(this,n,e,r),e instanceof ut.c&&this.starMesh.scale.setScalar(10)}}]),s}(ct),ht=function(e){a(s,e);var i=u(s);function s(){var t;return r(this,s),(t=i.apply(this,arguments)).coords=new h.y,t.economies=[],t.$stars=[],t.$contacts=[],t}return o(s,[{key:"stars",get:function(){return this.$stars}},{key:"contacts",get:function(){return this.$contacts}},{key:"addStar",value:function(t){this.attach(t),this.$stars.push(t)}},{key:"load",value:function(e){t(l(s.prototype),"load",this).call(this,e),e.coords&&this.coords.copy(e.coords);var r,i=n(e.stars);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=new ft;a.load(o),this.addStar(a)}}catch(u){i.e(u)}finally{i.f()}}},{key:"createView",value:function(t){t.name=this.name;var n=new h.v(.1,10,10);this.starMaterial=new h.m({color:this.getSystemColor()}),this.starMesh=new h.l(n,this.starMaterial),t.add(this.starMesh);var e=new h.i({color:"#006060",side:h.f,opacity:.5});e.transparent=!0;var r=new h.b(.2,10);this.baseMesh=new h.l(r,e),this.baseMesh.position.z=0,this.baseMesh.visible=!1,t.add(this.baseMesh);var i=new h.e(.015,.015,1,8);i.rotateX(.5*Math.PI),i.translate(0,0,.5),this.stemMesh=new h.l(i,e),this.stemMesh.visible=!1,t.add(this.stemMesh)}},{key:"updateView",value:function(t,n,e){if(n instanceof ut.b){if(!n.isSystemVisible(this))return void(t.visible=!1);var r=n.cursor.getPosition(),i=r.z,o=t.position.distanceTo(r),a=n.cursor.getActualZoom()>30?n.cursor.getActualZoom():30;this.baseMesh.position.setZ(i-t.position.z),this.stemMesh.scale.z=i-t.position.z,this.baseMesh.visible=o<=10,this.stemMesh.visible=o<=10,this.starMaterial.color.set(this.getSystemColor()),t.visible=o<=a&&0!==this.starMaterial.color.getHex(),t.position.copy(this.coords),o<20&&n.screen.renderText(t,t.name.toUpperCase())}else t.visible=!0,this.baseMesh.visible=!1,this.stemMesh.visible=!1,this.starMesh.visible=!1}},{key:"getSystemColor",value:function(){var t=this;switch(at.a.starMode){case at.b.Realistic:break;case at.b.Allegiance:var n=p.a.items.find(function(n){return n.itemName===t.allegiance});if(n)return n.color;break;case at.b.Civilisation:break;case at.b.Government:var e=V.items.find(function(n){return n.itemName===t.government});if(e)return e.color;break;case at.b.Economy:if(this.economies.length>=1){var r=this.economies[0],i=v.a.items.find(function(t){return t.itemName===r});if(i)return i.color}break;case at.b.State:var o=ot.items.find(function(n){return n.itemName===t.factionState});if(o)return o.color;break;case at.b.Security:var a=T.a.items.find(function(n){return n.itemName===t.security});if(a)return a.color;break;case at.b.StarClass:var s=j.a.items.find(function(n){return n.itemName===t.starClass});if(s)return s.color}return"#505050"}}]),s}(st.a)},NISJ:function(t,n,e){"use strict";e.d(n,"a",function(){return h});var i=e("/xNU"),o=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.b),s=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="High",t.color="#003BFD",t}(),c=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Medium",t.color="#00FEFF",t}(),l=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Low",t.color="#009500",t}(),f=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Anarchy",t.color="#FD0200",t}(),h=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.c);return t.items=[s,c,l,f],t}()},PFai:function(t,n,e){"use strict";e.d(n,"a",function(){return v});var i=e("/xNU"),o=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.b),s=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="None",t.color="#5C5C5C",t}(),c=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Federation",t.color="#FE0100",t}(),l=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Empire",t.color="#00A4FF",t}(),f=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Alliance",t.color="#02FF10",t}(),h=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Independent",t.color="#FBFC00",t}(),v=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.c);return t.items=[s,c,l,f,h],t}()},QzY6:function(t,n,e){"use strict";e.d(n,"a",function(){return w});var i=e("/xNU"),o=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.b),s=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="None",t.color="#5C5C5C",t}(),c=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Agriculture",t.color="#62FF00",t}(),l=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Extraction",t.color="#FF0000",t}(),f=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Tourism",t.color="#4800DC",t}(),h=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Colony",t.color="#1C62FF",t}(),v=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="High Tech",t.color="#00FFFF",t}(),p=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Industrial",t.color="#FFFF00",t}(),y=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Military",t.color="#DC00DC",t}(),m=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Refinery",t.color="#FF6200",t}(),d=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Service",t.color="#002AFF",t}(),g=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Terraforming",t.color="#007E00",t}(),w=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.c);return t.items=[s,l,m,p,c,g,v,h,d,f,y],t}()},UR3C:function(t,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return u});var i=function(t){return t[t.Realistic=0]="Realistic",t[t.Allegiance=1]="Allegiance",t[t.Civilisation=2]="Civilisation",t[t.Government=3]="Government",t[t.Economy=4]="Economy",t[t.State=5]="State",t[t.Security=6]="Security",t[t.StarClass=7]="StarClass",t[t.Services=8]="Services",t[t.VisitedStars=9]="VisitedStars",t[t.Commodity=10]="Commodity",t}({}),o=function t(){r(this,t),this.rangeFrom=10,this.rangeTo=20},a=function t(){r(this,t)},s=function t(){r(this,t),this.measures=1},u=function(){var t=function t(){r(this,t)};return t.starMode=i.Security,t.triangulate=new a,t.rangeFinder=new o,t.ruler=new s,t}()},hn8X:function(t,e,i){"use strict";i.d(e,"a",function(){return y});var s,c=i("lJxs"),l=i("Womt"),f=i("N5T1"),h=function(t){a(i,t);var e=u(i);function i(){var t;return r(this,i),(t=e.apply(this,arguments)).reserved=[],t.blockStore=new Map,t.activeBlocks=new Map,t}return o(i,[{key:"reserveBlock",value:function(t,n,e){this.reserved.push(JSON.stringify({x:t,y:n,z:e}))}},{key:"loadBlock",value:function(t,n,e,r){var i=JSON.stringify({x:t,y:n,z:e});this.blockStore.set(JSON.stringify({x:t,y:n,z:e}),r),this.reserved=this.reserved.filter(function(t){return t!==i})}},{key:"activateBlock",value:function(t,e,r){var i=JSON.stringify({x:t,y:e,z:r});if(this.activeBlocks.get(i)||this.reserved.includes(i))return!0;var o=this.blockStore.get(JSON.stringify({x:t,y:e,z:r}));if(!o)return!1;var a,s=[],u=n(o);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=new f.a;l.name=c.name,c.information?(l.allegiance=c.information.allegiance,l.government=c.information.government,l.population=c.information.population,l.security=c.information.security,l.factionState=c.information.factionState,l.economies.push(c.information.economy),c.information.secondEconomy&&l.economies.push(c.information.secondEconomy)):(l.allegiance="None",l.government="None",l.population=0,l.economies.push("None")),c.primaryStar&&(l.starClass=c.primaryStar.type),l.coords.set(c.coords.x,c.coords.z,c.coords.y),this.attach(l),s.push(l)}}catch(h){u.e(h)}finally{u.f()}return this.activeBlocks.set(JSON.stringify({x:t,y:e,z:r}),s),!0}},{key:"deactivateBlocks",value:function(t,e,r,i){var o,a=n(this.activeBlocks.keys());try{for(a.s();!(o=a.n()).done;){var s=o.value,u=JSON.parse(s);(Math.abs(t-u.x)>=i||Math.abs(e-u.y)>=i||Math.abs(r-u.z)>=i)&&this.deactivateBlock(u.x,u.y,u.z)}}catch(c){a.e(c)}finally{a.f()}}},{key:"deactivateBlock",value:function(t,e,r){var i=this.activeBlocks.get(JSON.stringify({x:t,y:e,z:r}));if(i){var o,a=n(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.delete(s)}}catch(u){a.e(u)}finally{a.f()}this.activeBlocks.delete(JSON.stringify({x:t,y:e,z:r}))}}},{key:"createView",value:function(t){}},{key:"updateView",value:function(t,n,e){}}]),i}(i("8dGy").a),v=i("fXoL"),p=i("tk/3"),y=((s=function(){function t(n){r(this,t),this.httpClient=n,this.starSector=new h}return o(t,[{key:"findStar",value:function(t){var e="systemName="+t;return e=e.concat("&showCoordinates=","1"),this.httpClient.get("https://www.edsm.net/api-v1/systems?"+e).pipe(Object(c.a)(function(t){var e,r=n(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;i.coords=new l.y(i.coords.x,i.coords.y,i.coords.z)}}catch(o){r.e(o)}finally{r.f()}return t}))}},{key:"processCursor",value:function(t,n,e){for(var r=Math.floor(t/25+.5),i=Math.floor(e/25+.5),o=Math.floor(n/25+.5),a=-1;a<=1;a++)for(var s=-1;s<=1;s++)for(var u=-1;u<=1;u++)this.processBlock(r+a,i+s,o+u);this.starSector.deactivateBlocks(r,i,o,2)}},{key:"processBlock",value:function(t,n,e){var r=this;if(!this.starSector.activateBlock(t,n,e)){this.starSector.reserveBlock(t,n,e);var i=window.localStorage.getItem("blockcache:"+JSON.stringify({x:t,y:n,z:e}));if(i){console.log("Loaded block from local storage",t,n,e);var o=JSON.parse(i);this.starSector.loadBlock(t,n,e,o),this.starSector.activateBlock(t,n,e)}else this.getStarSectorBlock(t,n,e).subscribe(function(i){console.log("Loaded block from edsm.net",t,n,e),window.localStorage.setItem("blockcache:"+JSON.stringify({x:t,y:n,z:e}),JSON.stringify(i)),r.starSector.loadBlock(t,n,e,i),r.starSector.activateBlock(t,n,e)})}}},{key:"getStarSectorBlock",value:function(t,n,e){n*=25,e*=25;var r="x="+(t*=25).toString();return r=(r=(r=(r=(r=(r=(r=(r=r.concat("&y=",n.toString())).concat("&z=",e.toString())).concat("&size=",25..toString())).concat("&showId=","1")).concat("&showCoordinates=","1")).concat("&showPermit=","1")).concat("&showInformation=","1")).concat("&showPrimaryStar=","1"),this.httpClient.get("https://www.edsm.net/api-v1/cube-systems?"+r)}},{key:"getStarSystem",value:function(t){return this.httpClient.get("assets/data/systems/"+t+".json").pipe(Object(c.a)(function(t){var n=new f.a;return n.load(t),n}))}}]),t}()).\u0275fac=function(t){return new(t||s)(v.Vb(p.b))},s.\u0275prov=v.Hb({token:s,factory:s.\u0275fac,providedIn:"root"}),s)},"sX/a":function(t,n,e){"use strict";e.d(n,"a",function(){return N});var i=e("/xNU"),o=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.b),s=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="O-type stars",t.color="#0002FA",t}(),c=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="B-type stars",t.color="#0B06F6",t}(),l=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="A-type stars",t.color="#3419E4",t}(),f=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="F-type stars",t.color="#56578F",t}(),h=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="G-type stars",t.color="#8F8E34",t}(),v=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="K-type stars",t.color="#B03313",t}(),p=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="M-type stars",t.color="#FF1F02",t}(),y=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="L-type stars",t.color="#FF1600",t}(),m=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="T=type stars",t.color="#7A0000",t}(),d=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Y-type stars",t.color="#750000",t}(),g=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Proto stars",t.color="#7A0000",t}(),w=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Carbon stars",t.color="#929137",t}(),b=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Wolf-Rayet stars",t.color="#C4C5FE",t}(),F=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="White dwarf stars",t.color="#545FF9",t}(),k=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(o);return t.itemName="Non sequence stars",t.color="#565857",t}(),N=function(){var t=function(t){a(e,t);var n=u(e);function e(){return r(this,e),n.apply(this,arguments)}return e}(i.c);return t.items=[s,c,l,f,h,v,p,y,m,d,g,w,b,F,k],t}()}}])}();