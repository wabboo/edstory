(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{lmR2:function(t,e,n){"use strict";n.r(e),n.d(e,"MenuModule",(function(){return Y}));var s=n("ofXK"),i=n("IVc4"),c=n("fXoL");let o=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[s.b,i.a]]}),t})();var r=n("tyNb");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-menu"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Sb(0,"div"),c.Nb(1,"router-outlet"),c.Rb())},directives:[r.e],styles:["[_nghost-%COMP%]{flex:1 1 auto;flex-direction:row;justify-content:center;align-items:center;background:url(/edstory/assets/backgrounds/main2.jpg);background-size:cover}[_nghost-%COMP%], div[_ngcontent-%COMP%]{display:flex}div[_ngcontent-%COMP%]{flex:1 1 auto;flex-direction:column;height:100%}"]}),t})(),u=(()=>{class t{constructor(t,e){this.router=t,this.route=e}ngOnInit(){}onClick(t){this.router.navigate([t],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(r.b),c.Mb(r.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],decls:21,vars:0,consts:[[1,"destination",3,"click"],[1,"image","ship"],[1,"textbox"],[1,"title"],[1,"description"],[1,"image","settings"],[1,"image","playground"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Zb("click",(function(){return e.onClick("/ship/center")})),c.Nb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.uc(4,"Ship"),c.Rb(),c.Sb(5,"div",4),c.uc(6," Enter a simulated ship of Elite: Dangerous. "),c.Rb(),c.Rb(),c.Rb(),c.Sb(7,"div",0),c.Zb("click",(function(){return e.onClick("/tinkering")})),c.Nb(8,"div",5),c.Sb(9,"div",2),c.Sb(10,"div",3),c.uc(11,"Settings"),c.Rb(),c.Sb(12,"div",4),c.uc(13," Turn on/off various alterations to the ship interface. "),c.Rb(),c.Rb(),c.Rb(),c.Sb(14,"div",0),c.Zb("click",(function(){return e.onClick("/playground")})),c.Nb(15,"div",6),c.Sb(16,"div",2),c.Sb(17,"div",3),c.uc(18,"Playground"),c.Rb(),c.Sb(19,"div",4),c.uc(20," Testing of experimental features. "),c.Rb(),c.Rb(),c.Rb())},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row;justify-content:center;align-items:center}.destination[_ngcontent-%COMP%]{width:300px;height:400px;margin:8px;background:rgba(64,8,0,.55);box-shadow:0 16px 16px 4px #000}.destination[_ngcontent-%COMP%]:hover{background:rgba(175,16,0,.5);cursor:url(/edstory/assets/support/cursor_glow.png) 6 1,pointer}.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.image[_ngcontent-%COMP%]{width:100%;height:250px;margin-bottom:8px}.ship[_ngcontent-%COMP%]{background:url(/edstory/assets/ship/krait-mk-ii/center.png),url(/edstory/assets/location/station/hangar/center.png);background-size:cover;background-position:-64px;opacity:.7}.settings[_ngcontent-%COMP%]{background:url(/edstory/assets/backgrounds/cogs.jpg);background-size:cover;background-position:-32px;opacity:.7}.playground[_ngcontent-%COMP%]{background:url(/edstory/assets/backgrounds/experimental.jpg);background-size:cover;background-position:-32px;opacity:.7}.textbox[_ngcontent-%COMP%]{margin:16px}.title[_ngcontent-%COMP%]{margin-bottom:8px;color:#ff6105}.description[_ngcontent-%COMP%]{font-size:small;color:#fff;text-transform:none}"]}),t})();var h=n("4A+J"),d=n("OcQ2"),l=n("OEjf"),g=n("EY6u"),b=n("eihG");function p(t,e){1&t&&c.Nb(0,"ed-icon",3)}function f(t,e){1&t&&c.Nb(0,"ed-icon",4)}const k=["*"];let m=(()=>{class t{constructor(){this.state="active",this.checkedChange=new c.n}get checked(){return this.checkedValue}set checked(t){this.checkedValue=t,this.checkedChange.emit(t)}ngOnInit(){}getCssClass(){let t=" checked";switch(this.checkedValue||(t=" unchecked"),this.state){case"active":return"container active"+t;case"selected":return"container selected"+t;case"disabled":return"container disabled"+t;case"blocked":return"container blocked"+t}}onClick(){"active"===this.state&&(this.checked=!this.checked)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["ed-check"]],inputs:{state:"state",checked:"checked"},outputs:{checkedChange:"checkedChange"},ngContentSelectors:k,decls:4,vars:3,consts:[[3,"ngClass","click"],["icon","checked","size","3",4,"ngIf"],["icon","unchecked","size","3",4,"ngIf"],["icon","checked","size","3"],["icon","unchecked","size","3"]],template:function(t,e){1&t&&(c.gc(),c.Sb(0,"div",0),c.Zb("click",(function(){return e.onClick()})),c.sc(1,p,1,0,"ed-icon",1),c.sc(2,f,1,0,"ed-icon",2),c.fc(3),c.Rb()),2&t&&(c.hc("ngClass",e.getCssClass()),c.Bb(1),c.hc("ngIf",e.checked),c.Bb(1),c.hc("ngIf",!e.checked))},directives:[s.h,s.j,b.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-bottom:4px}.container[_ngcontent-%COMP%]{box-sizing:border-box;height:4vh;display:flex;flex-direction:row;align-items:center;padding-left:.5vw;font-size:1.7vh}ed-icon[_ngcontent-%COMP%]{margin-right:8px}.checked[_ngcontent-%COMP%]{color:#ff6105;stroke:#ff6105}.unchecked[_ngcontent-%COMP%]{color:rgba(187,44,0,.7);stroke:rgba(187,44,0,.7)}.active[_ngcontent-%COMP%]{background:rgba(64,8,0,.55)}.container.active[_ngcontent-%COMP%]:hover{background:#f07b05;color:#000}.selected[_ngcontent-%COMP%]{background:rgba(175,16,0,.5);color:#ff6105;border-right:8px solid #ff6105}.container.selected[_ngcontent-%COMP%]:hover{background:#f07b05;color:#000}.disabled[_ngcontent-%COMP%]{background:rgba(48,48,48,.69);color:#fff;stroke:#fff;fill:#fff}.blocked[_ngcontent-%COMP%]{background:rgba(56,0,0,.38);color:#ac0000;stroke:#ac0000;fill:#ac0000}.container.blocked[_ngcontent-%COMP%]:hover{background:#ac0000;color:#000;stroke:#000;fill:#000}"]}),t})(),v=(()=>{class t{constructor(t){this.commanderService=t,this.commanderService.features.subscribe(t=>{this.features=t})}ngOnInit(){}updateFeatures(){this.commanderService.features.next(this.features)}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(h.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],decls:20,vars:6,consts:[[1,"columns"],["name","Alternatives","description","Suggested improvements for game"],["state","active",3,"checked","checkedChange"],[3,"checked","checkedChange"],["state","blocked",3,"checked","checkedChange"],["name","Game features","description","Update based additions"]],template:function(t,e){1&t&&(c.Sb(0,"ed-window"),c.Sb(1,"div",0),c.Sb(2,"ed-column"),c.Nb(3,"ed-title",1),c.Sb(4,"ed-check",2),c.Zb("checkedChange",(function(t){return e.features.updatedShipPanels=t}))("checkedChange",(function(){return e.updateFeatures()})),c.uc(5,"Alternate internal/external panels"),c.Rb(),c.Sb(6,"ed-check",3),c.Zb("checkedChange",(function(t){return e.features.corporations=t}))("checkedChange",(function(){return e.updateFeatures()})),c.uc(7,"Corporations"),c.Rb(),c.Sb(8,"ed-check",4),c.Zb("checkedChange",(function(t){return e.features.advisors=t}))("checkedChange",(function(){return e.updateFeatures()})),c.uc(9,"Advisors"),c.Rb(),c.Sb(10,"ed-check",4),c.Zb("checkedChange",(function(t){return e.features.passengerLines=t}))("checkedChange",(function(){return e.updateFeatures()})),c.uc(11,"Passenger lines"),c.Rb(),c.Sb(12,"ed-check",4),c.Zb("checkedChange",(function(t){return e.features.mechanic=t}))("checkedChange",(function(){return e.updateFeatures()})),c.uc(13,"Mechanic"),c.Rb(),c.Rb(),c.Sb(14,"ed-column"),c.Nb(15,"ed-title",5),c.Sb(16,"h4"),c.uc(17,"June 2020"),c.Rb(),c.Sb(18,"ed-check",3),c.Zb("checkedChange",(function(t){return e.features.fleetCarriers=t}))("checkedChange",(function(){return e.updateFeatures()})),c.uc(19,"Fleet carriers"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Bb(4),c.hc("checked",e.features.updatedShipPanels),c.Bb(2),c.hc("checked",e.features.corporations),c.Bb(2),c.hc("checked",e.features.advisors),c.Bb(2),c.hc("checked",e.features.passengerLines),c.Bb(2),c.hc("checked",e.features.mechanic),c.Bb(6),c.hc("checked",e.features.fleetCarriers))},directives:[d.a,l.a,g.a,m],styles:["[_nghost-%COMP%]{height:100%}.columns[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row}ed-column[_ngcontent-%COMP%]{width:50%;margin:1vw;padding:1vw}"]}),t})();var C=n("vHk7"),x=function(t){return t[t.Inactive=0]="Inactive",t[t.Click=2]="Click",t[t.Hold=3]="Hold",t}({});class M{constructor(){this.buttonTick=[],this.buttonA=x.Inactive,this.buttonB=x.Inactive,this.buttonX=x.Inactive,this.buttonY=x.Inactive,this.leftBumper=x.Inactive,this.rightBumper=x.Inactive,this.leftStick=x.Inactive,this.rightStick=x.Inactive,this.dPadUp=x.Inactive,this.dPadRight=x.Inactive,this.dPadDown=x.Inactive,this.dPadLeft=x.Inactive}apply(t,e){if(this.userInput=!1,this.buttonTick.length!==t.buttons.length){this.buttonTick=[];for(const e of t.buttons)this.buttonTick.push(void 0)}this.buttonA=this.processButton(0,t,e),this.buttonB=this.processButton(1,t,e),this.buttonX=this.processButton(2,t,e),this.buttonY=this.processButton(3,t,e),this.leftBumper=this.processButton(4,t,e),this.rightBumper=this.processButton(5,t,e),this.leftStick=this.processButton(10,t,e),this.rightStick=this.processButton(11,t,e),this.dPadUp=this.processButton(12,t,e),this.dPadDown=this.processButton(13,t,e),this.dPadLeft=this.processButton(14,t,e),this.dPadRight=this.processButton(15,t,e),this.leftTrigger=this.processButtonValue(6,t),this.rightTrigger=this.processButtonValue(7,t),this.leftStickAxisX=this.processAxis(0,t,!1),this.leftStickAxisY=this.processAxis(1,t,!0),this.rightStickAxisX=this.processAxis(2,t,!1),this.rightStickAxisY=this.processAxis(3,t,!0)}processButton(t,e,n){if(t>=e.buttons.length)return x.Inactive;if(void 0===this.buttonTick[t])e.buttons[t].pressed&&(this.buttonTick[t]=n);else if(e.buttons[t].pressed){if(n-this.buttonTick[t]>30)return this.userInput=!0,x.Hold}else{if(n-this.buttonTick[t]<=30)return this.userInput=!0,this.buttonTick[t]=void 0,x.Click;this.buttonTick[t]=void 0}return x.Inactive}processButtonValue(t,e){return t>=e.buttons.length?0:e.buttons[t].value>.1?(this.userInput=!0,e.buttons[t].value):0}processAxis(t,e,n){return t>=e.axes.length?0:Math.abs(e.axes[t])>.1?(this.userInput=!0,n?-e.axes[t]:e.axes[t]):0}}var P=n("PqYM");let S=(()=>{class t{constructor(){this.controller1=new c.n,this.gamepadState=new M,this.tick=0,window.addEventListener("gamepadconnected",t=>{this.gamepad=t.gamepad,this.processState()}),window.addEventListener("gamepaddisconnected",t=>{this.gamepad=void 0})}processState(){this.gamepad&&(this.gamepad=navigator.getGamepads()[this.gamepad.index],this.tick+=1,this.gamepadState.apply(this.gamepad,this.tick),this.gamepadState.userInput&&this.controller1.next(this.gamepadState),Object(P.a)(16.67).subscribe(()=>this.processState()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const y=[[["ed-grid-layer"]]],w=["ed-grid-layer"];let O=(()=>{class t{constructor(t){this.gamepadService=t,this.resolutionX=20,this.resolutionY=15,this.cursorX=0,this.cursorY=0,this.gamepadService.controller1.subscribe(t=>{t.dPadLeft===x.Click&&(this.cursorX-=1,this.cursorX<0&&(this.cursorX=0)),t.dPadRight===x.Click&&(this.cursorX+=1,this.cursorX>=this.resolutionX&&(this.cursorX=this.resolutionX-1)),t.dPadUp===x.Click&&(this.cursorY-=1,this.cursorY<0&&(this.cursorY=0)),t.dPadDown===x.Click&&(this.cursorY+=1,this.cursorY>=this.resolutionY&&(this.cursorY=this.resolutionY-1))})}ngOnInit(){this.backgroundSize=this.getWidth()+" "+this.getHeight()}getWidth(t=1){return 100/this.resolutionX*t+"% "}getHeight(t=1){return 100/this.resolutionY*t+"%"}getTop(t){return t*(100/this.resolutionY)+"%"}getLeft(t){return t*(100/this.resolutionX)+"%"}onMouseMove(t){if(t.target instanceof HTMLElement){const e=t.target.clientHeight;this.cursorX=Math.floor(t.offsetX/(t.target.clientWidth/this.resolutionX)),this.cursorY=Math.floor(t.offsetY/(e/this.resolutionY)),this.cursorX<0&&(this.cursorX=0),this.cursorY<0&&(this.cursorY=0),this.cursorX>=this.resolutionX&&(this.cursorX=this.resolutionX-1),this.cursorY>=this.resolutionY&&(this.cursorY=this.resolutionY-1)}}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(S))},t.\u0275cmp=c.Gb({type:t,selectors:[["ed-grid"]],inputs:{resolutionX:"resolutionX",resolutionY:"resolutionY"},ngContentSelectors:w,decls:4,vars:10,consts:[[1,"container",3,"mousemove"],[1,"raster"],[1,"cursor"]],template:function(t,e){1&t&&(c.gc(y),c.Sb(0,"div",0),c.Zb("mousemove",(function(t){return e.onMouseMove(t)})),c.Nb(1,"div",1),c.Nb(2,"div",2),c.fc(3),c.Rb()),2&t&&(c.Bb(1),c.rc("background-size",e.backgroundSize),c.Bb(1),c.rc("top",e.getTop(e.cursorY))("left",e.getLeft(e.cursorX))("width",e.getWidth())("height",e.getHeight()))},styles:["[_nghost-%COMP%]{display:flex;flex:0 0 auto;flex-direction:column;height:100%}.container[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(187,44,0,.5)}.container[_ngcontent-%COMP%], .raster[_ngcontent-%COMP%]{width:100%;height:100%}.raster[_ngcontent-%COMP%]{top:0;left:0;background-image:linear-gradient(90deg,rgba(187,44,0,.5) 1px,transparent 0),linear-gradient(180deg,rgba(187,44,0,.5) 1px,transparent 0)}.cursor[_ngcontent-%COMP%], .raster[_ngcontent-%COMP%]{position:absolute}.cursor[_ngcontent-%COMP%]{width:5%;height:5%;background:#f07b05}"]}),t})();function _(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",1),c.Zb("mousemove",(function(e){return c.nc(t),c.cc().onMouseMove(e)})),c.uc(1),c.Rb()}if(2&t){const t=e.$implicit,n=c.cc();c.rc("left",n.grid.getLeft(t.x))("top",n.grid.getTop(t.y))("width",n.grid.getWidth(t.width))("height",n.grid.getHeight(t.height)),c.Bb(1),c.wc(" ",t.name,"\n")}}class I{constructor(t,e,n,s,i){this.x=t,this.y=e,this.width=n,this.height=s,this.name=i}}let B=(()=>{class t{constructor(t){this.grid=t,this.elements=[]}ngOnInit(){this.elements.push(new I(2,2,2,2,"Element 1")),this.elements.push(new I(5,5,4,4,"Element 2")),this.elements.push(new I(10,5,6,4,"Element 3"))}onMouseMove(t){t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(O))},t.\u0275cmp=c.Gb({type:t,selectors:[["ed-grid-layer"]],inputs:{name:"name"},decls:1,vars:1,consts:[["class","block",3,"left","top","width","height","mousemove",4,"ngFor","ngForOf"],[1,"block",3,"mousemove"]],template:function(t,e){1&t&&c.sc(0,_,2,9,"div",0),2&t&&c.hc("ngForOf",e.elements)},directives:[s.i],styles:["[_nghost-%COMP%]{top:0;left:0;width:100%;height:100%}.block[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute}.block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background:rgba(64,8,0,.55);border:1px solid rgba(187,44,0,.5);font-size:1vw}"]}),t})();const R=[{path:"",component:a,children:[{path:"",component:u},{path:"tinkering",component:v},{path:"playground",component:(()=>{class t{constructor(t){this.spaceService=t,this.spaceService.getStarSystem("okinura").subscribe(t=>{this.starSystem=t})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(C.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],decls:4,vars:0,consts:[["resolutionX","20","resolutionY","15"],["name","Power"],["name","Heat"]],template:function(t,e){1&t&&(c.Sb(0,"ed-window"),c.Sb(1,"ed-grid",0),c.Nb(2,"ed-grid-layer",1),c.Nb(3,"ed-grid-layer",2),c.Rb(),c.Rb())},directives:[d.a,O,B],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;margin:64px}.instruction[_ngcontent-%COMP%]{position:absolute;left:16px;top:16px;border:2px solid rgba(187,44,0,.5);background:repeating-linear-gradient(0deg,rgba(0,0,0,.55),rgba(0,0,0,.55) 4px,rgba(64,4,0,.25) 0,rgba(0,0,0,.55) 6px),rgba(0,0,0,.35);padding:8px;z-index:10}"]}),t})()}]}];let X=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[r.d.forChild(R)],r.d]}),t})(),Y=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[s.b,o,i.a,X]]}),t})()}}]);