(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"08Vy":function(e,t,n){"use strict";n.r(t),n.d(t,"MarketsModule",(function(){return A}));var o=n("ofXK"),s=n("IVc4"),i=n("tyNb"),c=n("fXoL"),r=n("OcQ2");let a=(()=>{class e{constructor(){this.data=[{id:"test1",name:"test1"},{id:"test2",name:"test2"},{id:"test3",name:"test3"},{id:"test4",name:"test4"},{id:"test5",name:"test5"},{id:"test6",name:"test6"},{id:"test7",name:"test7"},{id:"test8",name:"test8"},{id:"test9",name:"test9"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(c.Rb(0,"ed-window"),c.Mb(1,"router-outlet"),c.Qb())},directives:[r.a,i.d],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;height:100%}"]}),e})();var d=n("AytR"),b=n("tk/3");let l=(()=>{class e{constructor(e){this.httpClient=e}getMarkets(){return this.httpClient.get(d.a.backend+"/api/market")}getMarket(e){return this.httpClient.get(d.a.backend+"/api/market/"+e)}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(b.b))},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("EY6u"),u=n("wcgJ"),p=n("L4s4"),f=n("DE09");function g(e,t){1&e&&c.oc(0),2&e&&c.qc(" ",t.$implicit.name," ")}let v=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.universeService=n,this.markets=[],this.universeService.getMarkets().subscribe(e=>{this.markets=e})}ngOnInit(){}onSelectedChange(e){this.router.navigate(["station1",e.marketID],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.b),c.Lb(i.a),c.Lb(l))},e.\u0275cmp=c.Fb({type:e,selectors:[["ng-component"]],decls:7,vars:1,consts:[["name","Markets","description","Find a station / planetary base"],["size","auto"],["type","text"],[3,"data","selectedChange"]],template:function(e,t){1&e&&(c.Mb(0,"ed-title",0),c.Rb(1,"ed-frame",1),c.Mb(2,"input",2),c.Qb(),c.Mb(3,"ed-frame-spacer"),c.Rb(4,"ed-frame"),c.Rb(5,"ed-list",3),c.Yb("selectedChange",(function(e){return t.onSelectedChange(e)})),c.mc(6,g,1,1,"ng-template"),c.Qb(),c.Qb()),2&e&&(c.Ab(5),c.dc("data",t.markets))},directives:[m.a,u.a,p.a,f.a],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;height:100%}"]}),e})();const k=["*"];let h=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["market-column"]],ngContentSelectors:k,decls:1,vars:0,template:function(e,t){1&e&&(c.cc(),c.bc(0))},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;background:radial-gradient(circle at top,rgba(255,60,0,.15),transparent 50%);border-top:1px solid rgba(187,44,0,.5);border-bottom:1px solid rgba(187,44,0,.5);padding:0 0 8px;overflow:hidden}[_nghost-%COMP%]:hover{background:radial-gradient(circle at top,rgba(175,16,0,.5),transparent 50%)}"]}),e})();var x=n("eihG");let M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["market-view"]],inputs:{market:"market"},decls:21,vars:0,consts:[[1,"info"],["icon","federation","size","64"],[1,"text"],[1,"line1"],[1,"line2"],["icon","credits","size","64"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Mb(1,"ed-icon",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.oc(4,"Federation"),c.Qb(),c.Rb(5,"div",4),c.oc(6,"Earth defense fleet"),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"div",0),c.Mb(8,"ed-icon",1),c.Rb(9,"div",2),c.Rb(10,"div",3),c.oc(11,"Zachory Hudson"),c.Qb(),c.Rb(12,"div",4),c.oc(13,"Exploited System"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"div",0),c.Mb(15,"ed-icon",5),c.Rb(16,"div",2),c.Rb(17,"div",3),c.oc(18,"Balance"),c.Qb(),c.Rb(19,"div",4),c.oc(20,"123,361,283 CR"),c.Qb(),c.Qb(),c.Qb())},directives:[x.a],styles:["[_nghost-%COMP%]{flex-direction:column;margin:8px;padding-bottom:8px;border-bottom:1px solid rgba(187,44,0,.5)}.info[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.info[_ngcontent-%COMP%]{flex-direction:row;padding:8px;justify-content:center}.info[_ngcontent-%COMP%]   ed-icon[_ngcontent-%COMP%]{margin-right:8px;opacity:.9}.text[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;padding-bottom:16px;border-top:1px solid rgba(187,44,0,.5)}.line1[_ngcontent-%COMP%]{color:#ff6105}.line2[_ngcontent-%COMP%]{color:#fff}"]}),e})();var y=n("qO2F");let O=(()=>{class e{constructor(){this.navigate=new c.n}ngOnInit(){}onPress(e){this.navigate.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["market-general-services"]],inputs:{market:"market"},outputs:{navigate:"navigate"},decls:14,vars:6,consts:[["icon","commodity",3,"state","press"],["icon","mission",3,"state"],["icon","passenger",3,"state"],["icon","contacts",3,"state","press"],["icon","universal-cartographics","state","disabled",3,"state"],["icon","crew-lounge","state","disabled",3,"state"]],template:function(e,t){1&e&&(c.Rb(0,"h4"),c.oc(1,"General services"),c.Qb(),c.Rb(2,"ed-button",0),c.Yb("press",(function(){return t.onPress("market")})),c.oc(3,"Commodities Market"),c.Qb(),c.Rb(4,"ed-button",1),c.oc(5,"Mission Board"),c.Qb(),c.Rb(6,"ed-button",2),c.oc(7,"Passenger Lounge"),c.Qb(),c.Rb(8,"ed-button",3),c.Yb("press",(function(){return t.onPress("contacts")})),c.oc(9,"Contacts"),c.Qb(),c.Rb(10,"ed-button",4),c.oc(11,"Universal Cartographics"),c.Qb(),c.Rb(12,"ed-button",5),c.oc(13,"Crew Lounge"),c.Qb()),2&e&&(c.Ab(2),c.dc("state",-1!=t.market.services.indexOf("Commodities")?"active":"blocked"),c.Ab(2),c.dc("state",-1!=t.market.services.indexOf("Missions")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=t.market.services.indexOf("Missions")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=t.market.services.indexOf("Contacts")?"active":"blocked"),c.Ab(2),c.dc("state",-1!=t.market.services.indexOf("Exploration")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=t.market.services.indexOf("CrewLounge")?"disabled":"blocked"))},directives:[y.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-bottom:40px}"]}),e})();var R=n("IfdK"),C=n("F/yl");let Q=(()=>{class e{constructor(e){this.sessionService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(R.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["market-commander-view"]],decls:14,vars:3,consts:[[1,"info"],[1,"ship"],[1,"spacer"],[1,"commander"],[1,"actions"],["name","Livery"],["name","Holo-Me"],["name","Store"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"h2"),c.oc(3),c.Qb(),c.Rb(4,"h4"),c.oc(5),c.Qb(),c.Mb(6,"div",2),c.Rb(7,"h3"),c.oc(8),c.Qb(),c.Qb(),c.Mb(9,"div",3),c.Qb(),c.Rb(10,"div",4),c.Mb(11,"ed-tile",5),c.Mb(12,"ed-tile",6),c.Mb(13,"ed-tile",7),c.Qb()),2&e&&(c.Ab(3),c.qc("CMDR ",t.sessionService.commanderName,""),c.Ab(2),c.pc(t.sessionService.shipType),c.Ab(3),c.pc(t.sessionService.shipName))},directives:[C.a],styles:["[_nghost-%COMP%]{flex-direction:column;margin:8px}.info[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex}.info[_ngcontent-%COMP%]{flex-direction:row;height:96px;margin-bottom:4px}.ship[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex:1 1 auto;flex-direction:column;background:rgba(64,8,0,.55);background-image:url(/edstory/assets/backgrounds/commander_ship.png);background-size:cover;padding:4px}.commander[_ngcontent-%COMP%]{display:flex;flex:0 0 96px;background-image:url(/edstory/assets/backgrounds/commander.png);background-size:cover}.spacer[_ngcontent-%COMP%]{display:flex;flex:1 1 auto}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1 1 96px}"]}),e})();function w(e,t){if(1&e){const e=c.Sb();c.Rb(0,"div",1),c.Rb(1,"market-column"),c.Mb(2,"market-view",2),c.Mb(3,"div",3),c.Rb(4,"market-general-services",4),c.Yb("navigate",(function(t){return c.hc(e),c.ac().onNavigate(t)})),c.Qb(),c.Rb(5,"ed-button",5),c.Yb("press",(function(){return c.hc(e),c.ac().onExit()})),c.oc(6,"Exit"),c.Qb(),c.Qb(),c.Mb(7,"ed-frame-spacer"),c.Rb(8,"market-column"),c.Mb(9,"img",6),c.Mb(10,"ed-list"),c.Qb(),c.Mb(11,"ed-frame-spacer"),c.Rb(12,"market-column"),c.Mb(13,"market-commander-view"),c.Mb(14,"div",3),c.Rb(15,"h4"),c.oc(16,"Quick maintenance"),c.Qb(),c.Rb(17,"ed-button",7),c.oc(18,"Refuel all"),c.Qb(),c.Rb(19,"ed-button",8),c.oc(20,"Repair all"),c.Qb(),c.Rb(21,"ed-button",8),c.oc(22,"Restock all"),c.Qb(),c.Rb(23,"h4"),c.oc(24,"Ship services"),c.Qb(),c.Rb(25,"ed-button",7),c.oc(26,"Remote Workshop"),c.Qb(),c.Rb(27,"ed-button",9),c.oc(28,"Outfitting"),c.Qb(),c.Rb(29,"ed-button",10),c.oc(30,"Shipyard"),c.Qb(),c.Rb(31,"ed-button",11),c.oc(32,"Advanced Maintenance"),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=c.ac();c.Ab(2),c.dc("market",e.market),c.Ab(2),c.dc("market",e.market),c.Ab(13),c.dc("state",-1!=e.market.services.indexOf("Refuel")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=e.market.services.indexOf("Repair")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=e.market.services.indexOf("Rearm")?"disabled":"blocked"),c.Ab(4),c.dc("state",-1!=e.market.services.indexOf("Workshop")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=e.market.services.indexOf("Outfitting")?"disabled":"blocked"),c.Ab(2),c.dc("state",-1!=e.market.services.indexOf("Shipyard")?"disabled":"blocked")}}const P=[{path:"",component:a,children:[{path:"",component:v},{path:"station1/:id",component:(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.marketService=n,this.route.params.subscribe(e=>{this.marketService.getMarket(e.id).subscribe(e=>{this.market=e,this.market.services||(this.market.services=[])})})}ngOnInit(){}onNavigate(e){this.router.navigate([e],{relativeTo:this.route})}onExit(){history.back()}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.b),c.Lb(i.a),c.Lb(l))},e.\u0275cmp=c.Fb({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","columns",4,"ngIf"],[1,"columns"],[3,"market"],[1,"spacer"],[3,"market","navigate"],[3,"press"],["src","assets/backgrounds/market_portrait.png","width","100%",1,"market-portrait"],["icon","test1",3,"state"],["icon","test1","state","disabled",3,"state"],["icon","test2",3,"state"],["icon","test3",3,"state"],["icon","test4","state","disabled"]],template:function(e,t){1&e&&c.mc(0,w,33,8,"div",0),2&e&&c.dc("ngIf",t.market)},directives:[o.j,h,M,O,y.a,p.a,f.a,Q],styles:[".columns[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1 1 auto}.columns[_ngcontent-%COMP%]{flex-direction:row}.spacer[_ngcontent-%COMP%]{display:flex;flex:1 1 auto}market-column[_ngcontent-%COMP%]{flex:33%}.market-portrait[_ngcontent-%COMP%]{border-bottom:2px solid rgba(187,44,0,.5);margin-bottom:8px}"]}),e})()},{path:"station1/:id/market",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["ng-component"]],decls:1,vars:0,consts:[["icon","commodity","name","Commodities Market"]],template:function(e,t){1&e&&c.Mb(0,"ed-title",0)},directives:[m.a],styles:[""]}),e})()},{path:"station1/:id/contacts",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"columns"],[1,"left-column"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Mb(1,"market-column",1),c.Mb(2,"ed-frame-spacer"),c.Mb(3,"market-column"),c.Qb())},directives:[h,p.a],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column}.columns[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row}.left-column[_ngcontent-%COMP%]{display:flex;flex:0 0 33%}"]}),e})()}]}];let _=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[i.c.forChild(P)],i.c]}),e})(),A=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[o.b,s.a,_]]}),e})()}}]);