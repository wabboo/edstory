(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{lmR2:function(e,t,n){"use strict";n.r(t),n.d(t,"MenuModule",(function(){return L}));var s=n("ofXK"),i=n("IVc4"),r=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[s.b,i.a]]}),e})();var o=n("tyNb");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-menu"]],decls:1,vars:0,template:function(e,t){1&e&&r.Mb(0,"router-outlet")},directives:[o.e],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row;justify-content:center;align-items:center;background:url(/edstory/assets/backgrounds/main2.jpg);background-size:cover}"]}),e})(),d=(()=>{class e{constructor(e,t){this.router=e,this.route=t}ngOnInit(){}onClick(e){this.router.navigate([e],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(o.b),r.Lb(o.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["ng-component"]],decls:21,vars:0,consts:[[1,"destination",3,"click"],[1,"image","ship"],[1,"textbox"],[1,"title"],[1,"description"],[1,"image","settings"],[1,"image","playground"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Yb("click",(function(){return t.onClick("/ship/center")})),r.Mb(1,"div",1),r.Rb(2,"div",2),r.Rb(3,"div",3),r.uc(4,"Ship"),r.Qb(),r.Rb(5,"div",4),r.uc(6," Enter a simulated ship of Elite: Dangerous. "),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"div",0),r.Yb("click",(function(){return t.onClick("/tinkering")})),r.Mb(8,"div",5),r.Rb(9,"div",2),r.Rb(10,"div",3),r.uc(11,"Settings"),r.Qb(),r.Rb(12,"div",4),r.uc(13," Turn on/off various alterations to the ship interface. "),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",0),r.Yb("click",(function(){return t.onClick("/playground")})),r.Mb(15,"div",6),r.Rb(16,"div",2),r.Rb(17,"div",3),r.uc(18,"Playground"),r.Qb(),r.Rb(19,"div",4),r.uc(20," Testing of experimental features. "),r.Qb(),r.Qb(),r.Qb())},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row;justify-content:center;align-items:center}.destination[_ngcontent-%COMP%]{width:300px;height:400px;margin:8px;background:rgba(64,8,0,.55);box-shadow:0 16px 16px 4px #000}.destination[_ngcontent-%COMP%]:hover{background:rgba(175,16,0,.5);cursor:url(/edstory/assets/support/cursor_glow.png) 6 1,pointer}.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.image[_ngcontent-%COMP%]{width:100%;height:250px;margin-bottom:8px}.ship[_ngcontent-%COMP%]{background:url(/edstory/assets/ship/krait-mk-ii/center.png),url(/edstory/assets/location/station/hangar/center.png);background-size:cover;background-position:-64px;opacity:.7}.settings[_ngcontent-%COMP%]{background:url(/edstory/assets/backgrounds/cogs.jpg);background-size:cover;background-position:-32px;opacity:.7}.playground[_ngcontent-%COMP%]{background:url(/edstory/assets/backgrounds/experimental.jpg);background-size:cover;background-position:-32px;opacity:.7}.textbox[_ngcontent-%COMP%]{margin:16px}.title[_ngcontent-%COMP%]{margin-bottom:8px;color:#ff6105}.description[_ngcontent-%COMP%]{font-size:small;color:#fff;text-transform:none}"]}),e})();var u=n("4A+J"),h=n("OcQ2"),b=n("OEjf"),l=n("EY6u"),p=n("eihG");function g(e,t){1&e&&r.Mb(0,"ed-icon",3)}function f(e,t){1&e&&r.Mb(0,"ed-icon",4)}const m=["*"];let k=(()=>{class e{constructor(){this.state="active",this.checkedChange=new r.n}get checked(){return this.checkedValue}set checked(e){this.checkedValue=e,this.checkedChange.emit(e)}ngOnInit(){}getCssClass(){let e=" checked";switch(this.checkedValue||(e=" unchecked"),this.state){case"active":return"container active"+e;case"selected":return"container selected"+e;case"disabled":return"container disabled"+e;case"blocked":return"container blocked"+e}}onClick(){"active"===this.state&&(this.checked=!this.checked)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["ed-check"]],inputs:{state:"state",checked:"checked"},outputs:{checkedChange:"checkedChange"},ngContentSelectors:m,decls:4,vars:3,consts:[[3,"ngClass","click"],["icon","checked","size","3",4,"ngIf"],["icon","unchecked","size","3",4,"ngIf"],["icon","checked","size","3"],["icon","unchecked","size","3"]],template:function(e,t){1&e&&(r.fc(),r.Rb(0,"div",0),r.Yb("click",(function(){return t.onClick()})),r.sc(1,g,1,0,"ed-icon",1),r.sc(2,f,1,0,"ed-icon",2),r.ec(3),r.Qb()),2&e&&(r.gc("ngClass",t.getCssClass()),r.Ab(1),r.gc("ngIf",t.checked),r.Ab(1),r.gc("ngIf",!t.checked))},directives:[s.h,s.j,p.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-bottom:4px}.container[_ngcontent-%COMP%]{box-sizing:border-box;height:4vh;display:flex;flex-direction:row;align-items:center;padding-left:.5vw;font-size:1.7vh}ed-icon[_ngcontent-%COMP%]{margin-right:8px}.checked[_ngcontent-%COMP%]{color:#ff6105;stroke:#ff6105}.unchecked[_ngcontent-%COMP%]{color:rgba(187,44,0,.7);stroke:rgba(187,44,0,.7)}.active[_ngcontent-%COMP%]{background:rgba(64,8,0,.55)}.container.active[_ngcontent-%COMP%]:hover{background:#f07b05;color:#000}.selected[_ngcontent-%COMP%]{background:rgba(175,16,0,.5);color:#ff6105;border-right:8px solid #ff6105}.container.selected[_ngcontent-%COMP%]:hover{background:#f07b05;color:#000}.disabled[_ngcontent-%COMP%]{background:rgba(48,48,48,.69);color:#fff;stroke:#fff;fill:#fff}.blocked[_ngcontent-%COMP%]{background:rgba(56,0,0,.38);color:#ac0000;stroke:#ac0000;fill:#ac0000}.container.blocked[_ngcontent-%COMP%]:hover{background:#ac0000;color:#000;stroke:#000;fill:#000}"]}),e})();var v=n("65hZ");let x=(()=>{class e{constructor(e){this.commanderService=e,this.commanderService.features.subscribe(e=>{this.features=e})}ngOnInit(){}updateFeatures(){this.commanderService.features.next(this.features)}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(u.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["ng-component"]],decls:23,vars:5,consts:[[1,"columns"],["name","Alternatives","description","Suggested improvements for game"],[3,"checked","checkedChange"],["state","blocked",3,"checked","checkedChange"],["name","Game features","description","Update based additions"]],template:function(e,t){1&e&&(r.Rb(0,"ed-window"),r.Rb(1,"div",0),r.Rb(2,"ed-column"),r.Mb(3,"ed-title",1),r.Rb(4,"h4"),r.uc(5,"Big changes"),r.Qb(),r.Rb(6,"ed-check",2),r.Yb("checkedChange",(function(e){return t.features.corporations=e}))("checkedChange",(function(){return t.updateFeatures()})),r.uc(7,"Corporations"),r.Qb(),r.Rb(8,"ed-check",3),r.Yb("checkedChange",(function(e){return t.features.advisors=e}))("checkedChange",(function(){return t.updateFeatures()})),r.uc(9,"Advisors"),r.Qb(),r.Rb(10,"ed-check",3),r.Yb("checkedChange",(function(e){return t.features.passengerLines=e}))("checkedChange",(function(){return t.updateFeatures()})),r.uc(11,"Passenger lines"),r.Qb(),r.Mb(12,"ed-frame-spacer"),r.Rb(13,"h4"),r.uc(14,"Small changes"),r.Qb(),r.Rb(15,"ed-check",3),r.Yb("checkedChange",(function(e){return t.features.navigationPanelAlternative=e}))("checkedChange",(function(){return t.updateFeatures()})),r.uc(16,"Navigation panel alternative"),r.Qb(),r.Qb(),r.Rb(17,"ed-column"),r.Mb(18,"ed-title",4),r.Rb(19,"h4"),r.uc(20,"June 2020"),r.Qb(),r.Rb(21,"ed-check",2),r.Yb("checkedChange",(function(e){return t.features.fleetCarriers=e}))("checkedChange",(function(){return t.updateFeatures()})),r.uc(22,"Fleet carriers"),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&e&&(r.Ab(6),r.gc("checked",t.features.corporations),r.Ab(2),r.gc("checked",t.features.advisors),r.Ab(2),r.gc("checked",t.features.passengerLines),r.Ab(5),r.gc("checked",t.features.navigationPanelAlternative),r.Ab(6),r.gc("checked",t.features.fleetCarriers))},directives:[h.a,b.a,l.a,k,v.a],styles:["[_nghost-%COMP%]{height:100%}.columns[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row}ed-column[_ngcontent-%COMP%]{width:50%;margin:1vw;padding:1vw}"]}),e})();var w=n("Womt");function C(e){return 499.004784*e}function M(e){return e/(3.33564095*Math.pow(10,6))}function O(e){const t=new w.b;switch(e){case"O":t.setHSL(276/360,1,.9);break;case"B":t.setHSL(257/360,1,.9);break;case"A":t.setHSL(228/360,1,.7);break;case"F":t.setHSL(205/360,1,.7);break;case"G":t.setHSL(55/360,1,.6);break;case"K":t.setHSL(37/360,1,.6);break;case"M":t.setHSL(16/360,1,.5)}return t}let y=(()=>{class e{constructor(){this.object3D=new w.h}ngOnInit(){}ngAfterContentInit(){this.spaceObjects.changes.subscribe(()=>{this.updateChildren()}),this.updateChildren()}getObject3D(){return this.object3D}run(){if(this.spaceObjects)for(const e of this.spaceObjects)e.run()}updateChildren(){if(this.spaceObjects){this.object3D.children=[],this.initObject(this.object3D);for(const e of this.spaceObjects)this.object3D.add(e.getObject3D())}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Gb({type:e,contentQueries:function(t,n,s){var i;1&t&&r.Db(s,e,!1),2&t&&r.kc(i=r.Zb())&&(n.spaceObjects=i)}}),e})();var P=n("PqYM"),A=function(e){return e[e.Inactive=0]="Inactive",e[e.Click=2]="Click",e[e.Hold=3]="Hold",e}({});class j{constructor(){this.buttonTick=[],this.buttonA=A.Inactive,this.buttonB=A.Inactive,this.buttonX=A.Inactive,this.buttonY=A.Inactive,this.leftBumper=A.Inactive,this.rightBumper=A.Inactive,this.leftStick=A.Inactive,this.rightStick=A.Inactive,this.dPadUp=A.Inactive,this.dPadRight=A.Inactive,this.dPadDown=A.Inactive,this.dPadLeft=A.Inactive}apply(e,t){if(this.userInput=!1,this.buttonTick.length!==e.buttons.length){this.buttonTick=[];for(const t of e.buttons)this.buttonTick.push(void 0)}this.buttonA=this.processButton(0,e,t),this.buttonB=this.processButton(1,e,t),this.buttonX=this.processButton(2,e,t),this.buttonY=this.processButton(3,e,t),this.leftBumper=this.processButton(4,e,t),this.rightBumper=this.processButton(5,e,t),this.leftStick=this.processButton(10,e,t),this.rightStick=this.processButton(11,e,t),this.dPadUp=this.processButton(12,e,t),this.dPadRight=this.processButton(13,e,t),this.dPadDown=this.processButton(14,e,t),this.dPadLeft=this.processButton(15,e,t),this.leftTrigger=this.processButtonValue(6,e),this.rightTrigger=this.processButtonValue(7,e),this.leftStickAxisX=this.processAxis(0,e,!1),this.leftStickAxisY=this.processAxis(1,e,!0),this.rightStickAxisX=this.processAxis(2,e,!1),this.rightStickAxisY=this.processAxis(3,e,!0)}processButton(e,t,n){if(e>=t.buttons.length)return A.Inactive;if(void 0===this.buttonTick[e])t.buttons[e].pressed&&(this.buttonTick[e]=n);else if(t.buttons[e].pressed){if(n-this.buttonTick[e]>30)return this.userInput=!0,A.Hold}else{if(n-this.buttonTick[e]<=30)return this.userInput=!0,this.buttonTick[e]=void 0,A.Click;this.buttonTick[e]=void 0}return A.Inactive}processButtonValue(e,t){return e>=t.buttons.length?0:t.buttons[e].value>.1?(this.userInput=!0,t.buttons[e].value):0}processAxis(e,t,n){return e>=t.axes.length?0:Math.abs(t.axes[e])>.1?(this.userInput=!0,n?-t.axes[e]:t.axes[e]):0}}let I=(()=>{class e{constructor(){this.controller1=new r.n,this.gamepadState=new j,this.tick=0,window.addEventListener("gamepadconnected",e=>{this.gamepad=e.gamepad,this.processState()}),window.addEventListener("gamepaddisconnected",e=>{this.gamepad=void 0})}processState(){this.gamepad&&(this.gamepad=navigator.getGamepads()[this.gamepad.index],this.tick+=1,this.gamepadState.apply(this.gamepad,this.tick),this.gamepadState.userInput&&this.controller1.next(this.gamepadState),Object(P.a)(16.67).subscribe(()=>this.processState()))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),R=(()=>{class e{constructor(e,t){this.element=e,this.gamepadService=t,this.scene=new w.k,this.camera=new w.i(60,window.innerWidth/window.innerHeight,1e-4,1e6),this.ambientLight=new w.a("white",.1),this.grid=new w.d(1e4,250,new w.b("#101010"),new w.b("#303030")),this.renderer=new w.n,this.velocity=0,this.gamepadService.controller1.subscribe(e=>{const t=this.camera.position.y/50;if(this.camera.position.x+=e.leftStickAxisX*t,this.camera.position.z-=e.leftStickAxisY*t,this.camera.rotation.x+=e.rightStickAxisY/50,this.camera.rotation.x<-.5*Math.PI&&(this.camera.rotation.x=-.5*Math.PI),this.camera.rotation.x>0&&(this.camera.rotation.x=0),e.leftTrigger){const n=new w.m;this.camera.getWorldDirection(n),this.camera.position.addScaledVector(n,-e.leftTrigger*t)}if(e.rightTrigger){const n=new w.m;this.camera.getWorldDirection(n),this.camera.position.addScaledVector(n,e.rightTrigger*t)}})}ngOnInit(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.element.nativeElement.appendChild(this.renderer.domElement),this.camera.position.y=1,this.camera.rotation.x=-1,this.camera.position.z=.6,this.renderFrame()}ngOnDestroy(){this.scene.dispose(),this.renderer.dispose()}ngAfterContentInit(){this.spaceObjects.changes.subscribe(()=>{this.updateChildren()}),this.updateChildren()}onResize(e){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}renderFrame(){this.run(),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(()=>this.renderFrame())}updateChildren(){if(this.spaceObjects){this.scene.children=[],this.scene.add(this.ambientLight),this.scene.add(this.grid);for(const e of this.spaceObjects)this.scene.add(e.getObject3D())}}run(){if(this.spaceObjects)for(const e of this.spaceObjects)e.run()}scrollLeft(){this.velocity-=.1}scrollRight(){this.velocity+=.1}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(r.l),r.Lb(I))},e.\u0275cmp=r.Fb({type:e,selectors:[["space-viewport"]],contentQueries:function(e,t,n){var s;1&e&&r.Db(n,y,!1),2&e&&r.kc(s=r.Zb())&&(t.spaceObjects=s)},hostBindings:function(e,t){1&e&&r.Yb("resize",(function(e){return t.onResize(e)}),!1,r.mc)},decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%]{height:100%;overflow:hidden}.debug-window[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute;top:0;left:0;width:100%}.debug-window[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:1lh;padding:8px;border-bottom:2px solid red}.debug-window[_ngcontent-%COMP%]   ed-button[_ngcontent-%COMP%]{margin-right:8px}"]}),e})(),S=(()=>{class e extends y{constructor(){super()}initObject(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["space-sector"]],features:[r.zb([{provide:y,useExisting:Object(r.S)(()=>e)}]),r.xb],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),Q=(()=>{class e extends y{constructor(){super()}initObject(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["space-star-system"]],features:[r.zb([{provide:y,useExisting:Object(r.S)(()=>e)}]),r.xb],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),_=(()=>{class e extends y{constructor(){super()}initObject(e){let t,n;t=new w.l(M(this.radius),100,100),n=new w.f({color:O(this.starClass)}),e.add(new w.e(t,n));const s=new w.j(O(this.starClass),this.luminosity,1e6,0);e.add(s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["space-star"]],inputs:{radius:"radius",starClass:"starClass",luminosity:"luminosity"},features:[r.zb([{provide:y,useExisting:Object(r.S)(()=>e)}]),r.xb],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})(),B=(()=>{class e extends y{constructor(){super()}initObject(e){const t=new w.l(M(this.radius),100,100),n=new w.g({color:"white"});e.add(new w.e(t,n));const s=new w.c(4,10,10,10),i=new w.f({color:"red"}),r=new w.e(s,i);r.position.y+=5+M(this.radius),r.rotation.x=Math.PI,e.add(r)}run(){super.run(),this.object3D.position.x=function(e){const t=864e5*e,n=Math.floor(Date.now());return Math.sin(2*Math.PI/(t/(n%t)))}(this.orbitalPeriod)*C(this.semiMajorAxisAU),this.object3D.position.z=function(e){const t=864e5*e,n=Math.floor(Date.now());return Math.cos(2*Math.PI/(t/(n%t)))}(this.orbitalPeriod)*C(this.semiMajorAxisAU)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["space-planet"]],inputs:{radius:"radius",semiMajorAxisAU:"semiMajorAxisAU",orbitalPeriod:"orbitalPeriod"},features:[r.zb([{provide:y,useExisting:Object(r.S)(()=>e)}]),r.xb],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();const z=[{path:"",component:a,children:[{path:"",component:d},{path:"tinkering",component:x},{path:"playground",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["ng-component"]],decls:26,vars:0,consts:[[1,"instruction"],["radius","696340","starClass","M","luminosity","10"],["radius","4878","semiMajorAxisAU","0.39","orbitalPeriod","87.9691"],["radius","12104","semiMajorAxisAU","0.72","orbitalPeriod","225"],["radius","6378.1","semiMajorAxisAU","1.00000102","orbitalPeriod","365.256363004"],["radius","1738.1","semiMajorAxisAU","0.00257","orbitalPeriod","27.321661"],["radius","6794","semiMajorAxisAU","1.52","orbitalPeriod","686.98"],["radius","22.2","semiMajorAxisAU","0.00006263836","orbitalPeriod","27.321661"],["radius","12.6","semiMajorAxisAU","0.0001567128","orbitalPeriod","27.321661"],["radius","448600","semiMajorAxisAU","5.20","orbitalPeriod","4332.71"],["radius","378675","semiMajorAxisAU","9.58","orbitalPeriod","10759.22"],["radius","51118","semiMajorAxisAU","19.23","orbitalPeriod","30668.12855\u202c"],["radius","155597","semiMajorAxisAU","29.81","orbitalPeriod","60227.72"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.uc(1," true scale solar system (metrics: radius, semiMajorAxis and orbital period)."),r.Mb(2,"br"),r.Mb(3,"br"),r.uc(4," Use controller to navigate.\n"),r.Qb(),r.Rb(5,"space-viewport"),r.Rb(6,"space-sector"),r.Rb(7,"space-star-system"),r.Rb(8,"space-star",1),r.Rb(9,"space-planet",2),r.uc(10,"mercury"),r.Qb(),r.Rb(11,"space-planet",3),r.uc(12,"venus"),r.Qb(),r.Rb(13,"space-planet",4),r.Mb(14,"space-planet",5),r.Qb(),r.Rb(15,"space-planet",6),r.Mb(16,"space-planet",7),r.Mb(17,"space-planet",8),r.Qb(),r.Rb(18,"space-planet",9),r.uc(19,"Jupiter"),r.Qb(),r.Rb(20,"space-planet",10),r.uc(21,"Saturn"),r.Qb(),r.Rb(22,"space-planet",11),r.uc(23,"Uranus"),r.Qb(),r.Rb(24,"space-planet",12),r.uc(25,"Neptune"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[R,S,Q,_,B],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;margin:64px}.instruction[_ngcontent-%COMP%]{position:absolute;left:16px;top:16px;border:2px solid rgba(187,44,0,.5);background:repeating-linear-gradient(0deg,rgba(0,0,0,.55),rgba(0,0,0,.55) 4px,rgba(64,4,0,.25) 0,rgba(0,0,0,.55) 6px),rgba(0,0,0,.35);padding:8px;z-index:10}"]}),e})()}]}];let F=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[o.d.forChild(z)],o.d]}),e})(),L=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[s.b,c,i.a,F]]}),e})()}}]);