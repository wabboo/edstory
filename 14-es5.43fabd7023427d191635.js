function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{lmR2:function(e,t,n){"use strict";n.r(t),n.d(t,"MenuModule",(function(){return G}));var i,r,o,c=n("ofXK"),s=n("IVc4"),a=n("fXoL"),u=((i=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:i}),i.\u0275inj=a.Jb({factory:function(e){return new(e||i)},imports:[[c.b,s.a]]}),i),l=n("tyNb"),h=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Gb({type:o,selectors:[["app-menu"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Sb(0,"div"),a.Nb(1,"router-outlet"),a.Rb())},directives:[l.e],styles:["[_nghost-%COMP%]{flex:1 1 auto;flex-direction:row;justify-content:center;align-items:center;background:url(/edstory/assets/backgrounds/main2.jpg);background-size:cover}[_nghost-%COMP%], div[_ngcontent-%COMP%]{display:flex}div[_ngcontent-%COMP%]{flex:1 1 auto;flex-direction:column;height:100%}"]}),o),d=((r=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.route=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(e){this.router.navigate([e],{relativeTo:this.route})}}]),e}()).\u0275fac=function(e){return new(e||r)(a.Mb(l.b),a.Mb(l.a))},r.\u0275cmp=a.Gb({type:r,selectors:[["ng-component"]],decls:21,vars:0,consts:[[1,"destination",3,"click"],[1,"image","ship"],[1,"textbox"],[1,"title"],[1,"description"],[1,"image","settings"],[1,"image","playground"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Zb("click",(function(){return t.onClick("/ship/center")})),a.Nb(1,"div",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.uc(4,"Ship"),a.Rb(),a.Sb(5,"div",4),a.uc(6," Enter a simulated ship of Elite: Dangerous. "),a.Rb(),a.Rb(),a.Rb(),a.Sb(7,"div",0),a.Zb("click",(function(){return t.onClick("/tinkering")})),a.Nb(8,"div",5),a.Sb(9,"div",2),a.Sb(10,"div",3),a.uc(11,"Settings"),a.Rb(),a.Sb(12,"div",4),a.uc(13," Turn on/off various alterations to the ship interface. "),a.Rb(),a.Rb(),a.Rb(),a.Sb(14,"div",0),a.Zb("click",(function(){return t.onClick("/playground")})),a.Nb(15,"div",6),a.Sb(16,"div",2),a.Sb(17,"div",3),a.uc(18,"Playground"),a.Rb(),a.Sb(19,"div",4),a.uc(20," Testing of experimental features. "),a.Rb(),a.Rb(),a.Rb())},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row;justify-content:center;align-items:center}.destination[_ngcontent-%COMP%]{width:300px;height:400px;margin:8px;background:rgba(64,8,0,.55);box-shadow:0 16px 16px 4px #000}.destination[_ngcontent-%COMP%]:hover{background:rgba(175,16,0,.5);cursor:url(/edstory/assets/support/cursor_glow.png) 6 1,pointer}.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.image[_ngcontent-%COMP%]{width:100%;height:250px;margin-bottom:8px}.ship[_ngcontent-%COMP%]{background:url(/edstory/assets/ship/krait-mk-ii/center.png),url(/edstory/assets/location/station/hangar/center.png);background-size:cover;background-position:-64px;opacity:.7}.settings[_ngcontent-%COMP%]{background:url(/edstory/assets/backgrounds/cogs.jpg);background-size:cover;background-position:-32px;opacity:.7}.playground[_ngcontent-%COMP%]{background:url(/edstory/assets/backgrounds/experimental.jpg);background-size:cover;background-position:-32px;opacity:.7}.textbox[_ngcontent-%COMP%]{margin:16px}.title[_ngcontent-%COMP%]{margin-bottom:8px;color:#ff6105}.description[_ngcontent-%COMP%]{font-size:small;color:#fff;text-transform:none}"]}),r),g=n("4A+J"),f=n("OcQ2"),b=n("OEjf"),p=n("EY6u"),k=n("eihG");function v(e,t){1&e&&a.Nb(0,"ed-icon",3)}function m(e,t){1&e&&a.Nb(0,"ed-icon",4)}var C,y,x,_,S=["*"],M=((y=function(){function e(){_classCallCheck(this,e),this.state="active",this.checkedChange=new a.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getCssClass",value:function(){var e=" checked";switch(this.checkedValue||(e=" unchecked"),this.state){case"active":return"container active"+e;case"selected":return"container selected"+e;case"disabled":return"container disabled"+e;case"blocked":return"container blocked"+e}}},{key:"onClick",value:function(){"active"===this.state&&(this.checked=!this.checked)}},{key:"checked",get:function(){return this.checkedValue},set:function(e){this.checkedValue=e,this.checkedChange.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||y)},y.\u0275cmp=a.Gb({type:y,selectors:[["ed-check"]],inputs:{state:"state",checked:"checked"},outputs:{checkedChange:"checkedChange"},ngContentSelectors:S,decls:4,vars:3,consts:[[3,"ngClass","click"],["icon","checked","size","3",4,"ngIf"],["icon","unchecked","size","3",4,"ngIf"],["icon","checked","size","3"],["icon","unchecked","size","3"]],template:function(e,t){1&e&&(a.gc(),a.Sb(0,"div",0),a.Zb("click",(function(){return t.onClick()})),a.sc(1,v,1,0,"ed-icon",1),a.sc(2,m,1,0,"ed-icon",2),a.fc(3),a.Rb()),2&e&&(a.hc("ngClass",t.getCssClass()),a.Bb(1),a.hc("ngIf",t.checked),a.Bb(1),a.hc("ngIf",!t.checked))},directives:[c.h,c.j,k.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-bottom:4px}.container[_ngcontent-%COMP%]{box-sizing:border-box;height:4vh;display:flex;flex-direction:row;align-items:center;padding-left:.5vw;font-size:1.7vh}ed-icon[_ngcontent-%COMP%]{margin-right:8px}.checked[_ngcontent-%COMP%]{color:#ff6105;stroke:#ff6105}.unchecked[_ngcontent-%COMP%]{color:rgba(187,44,0,.7);stroke:rgba(187,44,0,.7)}.active[_ngcontent-%COMP%]{background:rgba(64,8,0,.55)}.container.active[_ngcontent-%COMP%]:hover{background:#f07b05;color:#000}.selected[_ngcontent-%COMP%]{background:rgba(175,16,0,.5);color:#ff6105;border-right:8px solid #ff6105}.container.selected[_ngcontent-%COMP%]:hover{background:#f07b05;color:#000}.disabled[_ngcontent-%COMP%]{background:rgba(48,48,48,.69);color:#fff;stroke:#fff;fill:#fff}.blocked[_ngcontent-%COMP%]{background:rgba(56,0,0,.38);color:#ac0000;stroke:#ac0000;fill:#ac0000}.container.blocked[_ngcontent-%COMP%]:hover{background:#ac0000;color:#000;stroke:#000;fill:#000}"]}),y),P=((C=function(){function e(t){var n=this;_classCallCheck(this,e),this.commanderService=t,this.commanderService.features.subscribe((function(e){n.features=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"updateFeatures",value:function(){this.commanderService.features.next(this.features)}}]),e}()).\u0275fac=function(e){return new(e||C)(a.Mb(g.a))},C.\u0275cmp=a.Gb({type:C,selectors:[["ng-component"]],decls:20,vars:6,consts:[[1,"columns"],["name","Alternatives","description","Suggested improvements for game"],["state","active",3,"checked","checkedChange"],[3,"checked","checkedChange"],["state","blocked",3,"checked","checkedChange"],["name","Game features","description","Update based additions"]],template:function(e,t){1&e&&(a.Sb(0,"ed-window"),a.Sb(1,"div",0),a.Sb(2,"ed-column"),a.Nb(3,"ed-title",1),a.Sb(4,"ed-check",2),a.Zb("checkedChange",(function(e){return t.features.updatedShipPanels=e}))("checkedChange",(function(){return t.updateFeatures()})),a.uc(5,"Alternate internal/external panels"),a.Rb(),a.Sb(6,"ed-check",3),a.Zb("checkedChange",(function(e){return t.features.corporations=e}))("checkedChange",(function(){return t.updateFeatures()})),a.uc(7,"Corporations"),a.Rb(),a.Sb(8,"ed-check",4),a.Zb("checkedChange",(function(e){return t.features.advisors=e}))("checkedChange",(function(){return t.updateFeatures()})),a.uc(9,"Advisors"),a.Rb(),a.Sb(10,"ed-check",4),a.Zb("checkedChange",(function(e){return t.features.passengerLines=e}))("checkedChange",(function(){return t.updateFeatures()})),a.uc(11,"Passenger lines"),a.Rb(),a.Sb(12,"ed-check",4),a.Zb("checkedChange",(function(e){return t.features.mechanic=e}))("checkedChange",(function(){return t.updateFeatures()})),a.uc(13,"Mechanic"),a.Rb(),a.Rb(),a.Sb(14,"ed-column"),a.Nb(15,"ed-title",5),a.Sb(16,"h4"),a.uc(17,"June 2020"),a.Rb(),a.Sb(18,"ed-check",3),a.Zb("checkedChange",(function(e){return t.features.fleetCarriers=e}))("checkedChange",(function(){return t.updateFeatures()})),a.uc(19,"Fleet carriers"),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.Bb(4),a.hc("checked",t.features.updatedShipPanels),a.Bb(2),a.hc("checked",t.features.corporations),a.Bb(2),a.hc("checked",t.features.advisors),a.Bb(2),a.hc("checked",t.features.passengerLines),a.Bb(2),a.hc("checked",t.features.mechanic),a.Bb(6),a.hc("checked",t.features.fleetCarriers))},directives:[f.a,b.a,p.a,M],styles:["[_nghost-%COMP%]{height:100%}.columns[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:row}ed-column[_ngcontent-%COMP%]{width:50%;margin:1vw;padding:1vw}"]}),C),w=n("vHk7"),O=function(e){return e[e.Inactive=0]="Inactive",e[e.Click=2]="Click",e[e.Hold=3]="Hold",e}({}),I=function(){function e(){_classCallCheck(this,e),this.buttonTick=[],this.buttonA=O.Inactive,this.buttonB=O.Inactive,this.buttonX=O.Inactive,this.buttonY=O.Inactive,this.leftBumper=O.Inactive,this.rightBumper=O.Inactive,this.leftStick=O.Inactive,this.rightStick=O.Inactive,this.dPadUp=O.Inactive,this.dPadRight=O.Inactive,this.dPadDown=O.Inactive,this.dPadLeft=O.Inactive}return _createClass(e,[{key:"apply",value:function(e,t){if(this.userInput=!1,this.buttonTick.length!==e.buttons.length){this.buttonTick=[];var n,i=_createForOfIteratorHelper(e.buttons);try{for(i.s();!(n=i.n()).done;){n.value;this.buttonTick.push(void 0)}}catch(r){i.e(r)}finally{i.f()}}this.buttonA=this.processButton(0,e,t),this.buttonB=this.processButton(1,e,t),this.buttonX=this.processButton(2,e,t),this.buttonY=this.processButton(3,e,t),this.leftBumper=this.processButton(4,e,t),this.rightBumper=this.processButton(5,e,t),this.leftStick=this.processButton(10,e,t),this.rightStick=this.processButton(11,e,t),this.dPadUp=this.processButton(12,e,t),this.dPadDown=this.processButton(13,e,t),this.dPadLeft=this.processButton(14,e,t),this.dPadRight=this.processButton(15,e,t),this.leftTrigger=this.processButtonValue(6,e),this.rightTrigger=this.processButtonValue(7,e),this.leftStickAxisX=this.processAxis(0,e,!1),this.leftStickAxisY=this.processAxis(1,e,!0),this.rightStickAxisX=this.processAxis(2,e,!1),this.rightStickAxisY=this.processAxis(3,e,!0)}},{key:"processButton",value:function(e,t,n){if(e>=t.buttons.length)return O.Inactive;if(void 0===this.buttonTick[e])t.buttons[e].pressed&&(this.buttonTick[e]=n);else if(t.buttons[e].pressed){if(n-this.buttonTick[e]>30)return this.userInput=!0,O.Hold}else{if(n-this.buttonTick[e]<=30)return this.userInput=!0,this.buttonTick[e]=void 0,O.Click;this.buttonTick[e]=void 0}return O.Inactive}},{key:"processButtonValue",value:function(e,t){return e>=t.buttons.length?0:t.buttons[e].value>.1?(this.userInput=!0,t.buttons[e].value):0}},{key:"processAxis",value:function(e,t,n){return e>=t.axes.length?0:Math.abs(t.axes[e])>.1?(this.userInput=!0,n?-t.axes[e]:t.axes[e]):0}}]),e}(),B=n("PqYM"),R=((x=function(){function e(){var t=this;_classCallCheck(this,e),this.controller1=new a.n,this.gamepadState=new I,this.tick=0,window.addEventListener("gamepadconnected",(function(e){t.gamepad=e.gamepad,t.processState()})),window.addEventListener("gamepaddisconnected",(function(e){t.gamepad=void 0}))}return _createClass(e,[{key:"processState",value:function(){var e=this;this.gamepad&&(this.gamepad=navigator.getGamepads()[this.gamepad.index],this.tick+=1,this.gamepadState.apply(this.gamepad,this.tick),this.gamepadState.userInput&&this.controller1.next(this.gamepadState),Object(B.a)(16.67).subscribe((function(){return e.processState()})))}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275prov=a.Ib({token:x,factory:x.\u0275fac,providedIn:"root"}),x),X=[[["ed-grid-layer"]]],Y=["ed-grid-layer"],T=((_=function(){function e(t){var n=this;_classCallCheck(this,e),this.gamepadService=t,this.resolutionX=20,this.resolutionY=15,this.cursorX=0,this.cursorY=0,this.gamepadService.controller1.subscribe((function(e){e.dPadLeft===O.Click&&(n.cursorX-=1,n.cursorX<0&&(n.cursorX=0)),e.dPadRight===O.Click&&(n.cursorX+=1,n.cursorX>=n.resolutionX&&(n.cursorX=n.resolutionX-1)),e.dPadUp===O.Click&&(n.cursorY-=1,n.cursorY<0&&(n.cursorY=0)),e.dPadDown===O.Click&&(n.cursorY+=1,n.cursorY>=n.resolutionY&&(n.cursorY=n.resolutionY-1))}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.backgroundSize=this.getWidth()+" "+this.getHeight()}},{key:"getWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 100/this.resolutionX*e+"% "}},{key:"getHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 100/this.resolutionY*e+"%"}},{key:"getTop",value:function(e){return e*(100/this.resolutionY)+"%"}},{key:"getLeft",value:function(e){return e*(100/this.resolutionX)+"%"}},{key:"onMouseMove",value:function(e){if(e.target instanceof HTMLElement){var t=e.target.clientHeight;this.cursorX=Math.floor(e.offsetX/(e.target.clientWidth/this.resolutionX)),this.cursorY=Math.floor(e.offsetY/(t/this.resolutionY)),this.cursorX<0&&(this.cursorX=0),this.cursorY<0&&(this.cursorY=0),this.cursorX>=this.resolutionX&&(this.cursorX=this.resolutionX-1),this.cursorY>=this.resolutionY&&(this.cursorY=this.resolutionY-1)}}}]),e}()).\u0275fac=function(e){return new(e||_)(a.Mb(R))},_.\u0275cmp=a.Gb({type:_,selectors:[["ed-grid"]],inputs:{resolutionX:"resolutionX",resolutionY:"resolutionY"},ngContentSelectors:Y,decls:4,vars:10,consts:[[1,"container",3,"mousemove"],[1,"raster"],[1,"cursor"]],template:function(e,t){1&e&&(a.gc(X),a.Sb(0,"div",0),a.Zb("mousemove",(function(e){return t.onMouseMove(e)})),a.Nb(1,"div",1),a.Nb(2,"div",2),a.fc(3),a.Rb()),2&e&&(a.Bb(1),a.rc("background-size",t.backgroundSize),a.Bb(1),a.rc("top",t.getTop(t.cursorY))("left",t.getLeft(t.cursorX))("width",t.getWidth())("height",t.getHeight()))},styles:["[_nghost-%COMP%]{display:flex;flex:0 0 auto;flex-direction:column;height:100%}.container[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(187,44,0,.5)}.container[_ngcontent-%COMP%], .raster[_ngcontent-%COMP%]{width:100%;height:100%}.raster[_ngcontent-%COMP%]{top:0;left:0;background-image:linear-gradient(90deg,rgba(187,44,0,.5) 1px,transparent 0),linear-gradient(180deg,rgba(187,44,0,.5) 1px,transparent 0)}.cursor[_ngcontent-%COMP%], .raster[_ngcontent-%COMP%]{position:absolute}.cursor[_ngcontent-%COMP%]{width:5%;height:5%;background:#f07b05}"]}),_);function A(e,t){if(1&e){var n=a.Tb();a.Sb(0,"div",1),a.Zb("mousemove",(function(e){return a.nc(n),a.cc().onMouseMove(e)})),a.uc(1),a.Rb()}if(2&e){var i=t.$implicit,r=a.cc();a.rc("left",r.grid.getLeft(i.x))("top",r.grid.getTop(i.y))("width",r.grid.getWidth(i.width))("height",r.grid.getHeight(i.height)),a.Bb(1),a.wc(" ",i.name,"\n")}}var j,z,L,F,H=function e(t,n,i,r,o){_classCallCheck(this,e),this.x=t,this.y=n,this.width=i,this.height=r,this.name=o},N=((j=function(){function e(t){_classCallCheck(this,e),this.grid=t,this.elements=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.elements.push(new H(2,2,2,2,"Element 1")),this.elements.push(new H(5,5,4,4,"Element 2")),this.elements.push(new H(10,5,6,4,"Element 3"))}},{key:"onMouseMove",value:function(e){e.stopPropagation()}}]),e}()).\u0275fac=function(e){return new(e||j)(a.Mb(T))},j.\u0275cmp=a.Gb({type:j,selectors:[["ed-grid-layer"]],inputs:{name:"name"},decls:1,vars:1,consts:[["class","block",3,"left","top","width","height","mousemove",4,"ngFor","ngForOf"],[1,"block",3,"mousemove"]],template:function(e,t){1&e&&a.sc(0,A,2,9,"div",0),2&e&&a.hc("ngForOf",t.elements)},directives:[c.i],styles:["[_nghost-%COMP%]{top:0;left:0;width:100%;height:100%}.block[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute}.block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background:rgba(64,8,0,.55);border:1px solid rgba(187,44,0,.5);font-size:1vw}"]}),j),E=[{path:"",component:h,children:[{path:"",component:d},{path:"tinkering",component:P},{path:"playground",component:(z=function(){function e(t){var n=this;_classCallCheck(this,e),this.spaceService=t,this.spaceService.getStarSystem("okinura").subscribe((function(e){n.starSystem=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),z.\u0275fac=function(e){return new(e||z)(a.Mb(w.a))},z.\u0275cmp=a.Gb({type:z,selectors:[["ng-component"]],decls:4,vars:0,consts:[["resolutionX","20","resolutionY","15"],["name","Power"],["name","Heat"]],template:function(e,t){1&e&&(a.Sb(0,"ed-window"),a.Sb(1,"ed-grid",0),a.Nb(2,"ed-grid-layer",1),a.Nb(3,"ed-grid-layer",2),a.Rb(),a.Rb())},directives:[f.a,T,N],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;margin:64px}.instruction[_ngcontent-%COMP%]{position:absolute;left:16px;top:16px;border:2px solid rgba(187,44,0,.5);background:repeating-linear-gradient(0deg,rgba(0,0,0,.55),rgba(0,0,0,.55) 4px,rgba(64,4,0,.25) 0,rgba(0,0,0,.55) 6px),rgba(0,0,0,.35);padding:8px;z-index:10}"]}),z)}]}],Z=((F=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:F}),F.\u0275inj=a.Jb({factory:function(e){return new(e||F)},imports:[[l.d.forChild(E)],l.d]}),F),G=((L=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:L}),L.\u0275inj=a.Jb({factory:function(e){return new(e||L)},imports:[[c.b,u,s.a,Z]]}),L)}}]);