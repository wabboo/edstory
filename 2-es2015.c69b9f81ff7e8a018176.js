(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"4GCU":function(t,e,s){"use strict";s.d(e,"a",function(){return g}),s.d(e,"b",function(){return y}),s.d(e,"c",function(){return f});var i=s("8dGy");class r extends i.a{constructor(){super(...arguments),this.active=!0}isSystemVisible(t){return!0}}var o=s("Womt");class a extends r{constructor(){super(...arguments),this.cameraZoom=100,this.cameraAngle=1,this.cameraRotation=1,this.cursorPosition=new o.y,this.flightMode=!0,this.actualZoom=100,this.actualAngle=1,this.actualRotation=1}getActualZoom(){return this.actualZoom}createView(t){const e=new o.s(.15,.18,20),s=new o.m({color:"cyan",side:o.f}),i=new o.l(e,s);t.add(i),t.renderOrder=100}updateModel(t){this.actualZoom=this.actualZoom+(this.cameraZoom-this.actualZoom)/25,this.actualRotation=this.actualRotation+(this.cameraRotation-this.actualRotation)/10,this.actualAngle=this.actualAngle+(this.cameraAngle-this.actualAngle)/10}updateView(t,e,s){this.flightMode?t.position.lerp(this.cursorPosition,.05):(t.position.x=t.position.x+(this.cursorPosition.x-t.position.x)/2,t.position.y=t.position.y+(this.cursorPosition.y-t.position.y)/2,t.position.z=t.position.z+(this.cursorPosition.z-t.position.z)/2);const i=new o.y,r=new o.y(0,0,1);i.set(Math.sin(this.actualRotation),Math.cos(this.actualRotation),Math.sin(this.actualAngle)),e.camera.position.copy(t.position),e.camera.position.addScaledVector(i,this.actualZoom),e.camera.lookAt(t.position),e.camera.up.copy(r)}}class n extends r{createView(t){this.material=new o.u({side:o.f,uniforms:{uSize1:{value:1},uSize2:{value:10},uColor:{value:new o.c("#2A4040")},uDistance:{value:8e3}},transparent:!0,vertexShader:"\n        varying vec3 worldPosition;\n        uniform float uDistance;\n        void main() {\n            vec3 pos = position.xyz * uDistance;\n            pos.xy += cameraPosition.xy;\n            worldPosition = pos;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n        }\n      ",fragmentShader:"\n        varying vec3 worldPosition;\n\n        uniform float uSize1;\n        uniform float uSize2;\n        uniform vec3 uColor;\n        uniform float uDistance;\n\n        float getGrid(float size) {\n          vec2 r = worldPosition.xy / size;\n          vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n          float line = min(grid.x, grid.y);\n          return 1.3 - min(line, 1.3);\n        }\n\n        void main() {\n          float d = 1.0 - min(distance(cameraPosition.xy, worldPosition.xy) / uDistance, 1.0);\n          float g1 = getGrid(uSize1);\n          float g2 = getGrid(uSize2);\n          gl_FragColor = vec4(uColor.rgb, mix(g2, g1, g1) * pow(d, 256.0));\n          gl_FragColor.a = mix(0.2 * gl_FragColor.a, gl_FragColor.a, g2);\n          if (gl_FragColor.a <= 0.0) discard;\n        }\n      ",extensions:{derivatives:!0}}),this.geometry=new o.p(2,2,1,1),this.mesh=new o.l(this.geometry,this.material),this.mesh.frustumCulled=!1,t.add(this.mesh),t.renderOrder=-100}updateView(t,e,s){e instanceof y||e instanceof f?(t.position.z=e.cursor.getPosition().z,t.visible=!0):t.visible=!1}}var c=s("UR3C");class l extends r{get settings(){return c.a.ruler}createView(t){const e=new o.i({color:"#009090",opacity:.5});e.transparent=!0;const s=new o.e(1,1,1,8);this.lineMesh=new o.l(s,e),t.add(this.lineMesh)}updateView(t,e,s){if(e instanceof y)if(this.settings.system&&this.settings.target){const e=this.settings.system.coords.distanceTo(this.settings.target.coords)*this.settings.measures;this.lineMesh.geometry.dispose(),this.lineMesh.geometry=new o.e(.2,.2,e),this.lineMesh.geometry.rotateX(.5*Math.PI),this.lineMesh.geometry.translate(0,0,e/2),t.position.copy(this.settings.system.coords),t.lookAt(this.settings.target.coords),t.visible=!0}else t.visible=!1;else t.visible=!1}}class m extends r{get settings(){return c.a.rangeFinder}createView(t){this.geometry=new o.s(1,2,20),this.material=new o.m({color:"teal",side:o.f,transparent:!0,opacity:.1}),this.ring=new o.l(this.geometry,this.material),t.add(this.ring)}updateView(t,e,s){if(e instanceof y)if(this.settings.rangeFrom===this.actualRangeFrom&&this.settings.rangeTo===this.actualRangeTo||this.resizeRing(),this.active&&this.settings.system&&this.actualRangeTo>0){const s=e.cursor.getPosition().z,i=1-Math.abs(this.settings.system.coords.z-s)/this.actualRangeTo;i>0?this.ring.scale.set(i,i,1):this.ring.scale.set(0,0,0),t.position.x=this.settings.system.coords.x,t.position.y=this.settings.system.coords.y,t.position.z=s-.1,t.visible=!0}else t.visible=!1;else t.visible=!1}isSystemVisible(t){if(this.active&&this.settings.system&&this.settings.system!==t){const e=Math.abs(this.settings.system.coords.distanceTo(t.coords));if(e<this.actualRangeFrom||e>this.actualRangeTo)return!1}return!0}resizeRing(){const t=new o.s(this.settings.rangeFrom,this.settings.rangeTo,40);this.geometry.copy(t),this.geometry.elementsNeedUpdate=!0,t.dispose(),this.actualRangeFrom=this.settings.rangeFrom,this.actualRangeTo=this.settings.rangeTo}}class h extends r{get settings(){return c.a.triangulate}createView(t){this.geometry=new o.a,this.fillMaterial=new o.m({color:"teal",side:o.f,transparent:!0,opacity:.1}),this.lineMaterial=new o.m({color:"teal",side:o.f,wireframe:!0}),this.triangle=new o.l(this.geometry,this.fillMaterial),this.triangle.frustumCulled=!1,this.triangleOutline=new o.h(this.geometry,this.lineMaterial),this.triangleOutline.frustumCulled=!1,t.add(this.triangle),t.add(this.triangleOutline)}updateView(t,e,s){this.settings.system1&&this.settings.system2&&this.settings.system3?(this.geometry.setFromPoints([this.settings.system1.coords,this.settings.system2.coords,this.settings.system3.coords]),t.visible=!0):t.visible=!1}}class u extends r{get system(){return c.a.selectedSystem}set system(t){c.a.selectedSystem=t}createView(t){const e=new o.d(.2,.4,16),s=new o.m({color:"cyan"}),i=new o.l(e,s);i.rotation.x-=.5*Math.PI,t.add(i)}updateView(t,e,s){e instanceof y&&this.system?(t.position.copy(this.system.coords),t.position.z+=.4,t.visible=!0):t.visible=!1}}class d extends r{get system(){return c.a.currentSystem}set system(t){c.a.currentSystem=t}createView(t){const e=new o.d(.2,.4,16),s=new o.m({color:"orange"}),i=new o.l(e,s);i.rotation.x-=.5*Math.PI,t.add(i)}updateView(t,e,s){e instanceof y&&this.system?(t.position.copy(this.system.coords),t.position.z+=.4,t.visible=!0):t.visible=!1}}const g=1e6;class p{constructor(t,e){this.camera=t,this.screen=e}update(t){for(const e of this.getSpaceObjects())e.run(t);for(const e of this.getSpaceObjects())e.update(t,this)}}class y extends p{constructor(){super(...arguments),this.cursor=new a,this.plane=new n,this.triangulation=new h,this.rangeFinder=new m,this.ruler=new l,this.current=new d,this.selected=new u}getSpaceObjects(){return[this.starSector,this.plane,this.triangulation,this.rangeFinder,this.ruler,this.selected,this.current,this.cursor]}isSystemVisible(t){for(const e of this.getSpaceObjects())if(e instanceof r&&!e.isSystemVisible(t))return!1;return!0}focusSystem(t){this.cursor.flightMode=!0,this.cursor.cursorPosition.copy(t.coords),this.cursor.cameraZoom>10&&(this.cursor.cameraZoom=10)}update(t){c.a.focusSystem&&(this.focusSystem(c.a.focusSystem),c.a.focusSystem=void 0),super.update(t)}}class f extends p{constructor(){super(...arguments),this.cursor=new a,this.plane=new n}getSpaceObjects(){return[this.starSystem,this.cursor,this.plane]}update(t){super.update(t)}}},N5T1:function(t,e,s){"use strict";s.d(e,"a",function(){return it});var i=s("Womt"),r=s("QzY6"),o=s("PFai"),a=s("/xNU");class n extends a.b{}let c=(()=>{class t extends n{}return t.itemName="None",t.color="#5C5C5C",t})(),l=(()=>{class t extends n{}return t.itemName="Anarchy",t.color="#FFD600",t})(),m=(()=>{class t extends n{}return t.itemName="Colony",t.color="#BCFF00",t})(),h=(()=>{class t extends n{}return t.itemName="Democracy",t.color="#49FC02",t})(),u=(()=>{class t extends n{}return t.itemName="Imperial",t.color="#00FF09",t})(),d=(()=>{class t extends n{}return t.itemName="Corporate",t.color="#00FF71",t})(),g=(()=>{class t extends n{}return t.itemName="Communist",t.color="#00FFF0",t})(),p=(()=>{class t extends n{}return t.itemName="Feudal",t.color="#00A6FF",t})(),y=(()=>{class t extends n{}return t.itemName="Dictatorship",t.color="#0037FB",t})(),f=(()=>{class t extends n{}return t.itemName="Theocracy",t.color="#1D00FF",t})(),x=(()=>{class t extends n{}return t.itemName="Cooperative",t.color="#9200FF",t})(),w=(()=>{class t extends n{}return t.itemName="Patronage",t.color="#FF00FF",t})(),F=(()=>{class t extends n{}return t.itemName="Confederacy",t.color="#FE0100",t})(),b=(()=>{class t extends n{}return t.itemName="Prison colony",t.color="#F86000",t})(),v=(()=>{class t extends n{}return t.itemName="Workshop",t.color="#767875",t})(),N=(()=>{class t extends n{}return t.itemName="Detention centre",t.color="#680000",t})(),S=(()=>{class t extends n{}return t.itemName="Private ownership",t.color="#006700",t})(),M=(()=>{class t extends a.c{}return t.items=[c,l,m,h,u,d,g,p,y,f,x,w,F,b,v,N,S],t})();var C=s("NISJ"),k=s("sX/a");class z extends a.b{}let P=(()=>{class t extends z{}return t.itemName="None",t.color="#5C5C5C",t})(),B=(()=>{class t extends z{}return t.itemName="Retreat",t.color="#FE0201",t})(),A=(()=>{class t extends z{}return t.itemName="War",t.color="#FF7600",t})(),V=(()=>{class t extends z{}return t.itemName="Lockdown",t.color="#FFFF00",t})(),O=(()=>{class t extends z{}return t.itemName="Cinvil unrest",t.color="#74FF00",t})(),R=(()=>{class t extends z{}return t.itemName="Civil war",t.color="#009300",t})(),T=(()=>{class t extends z{}return t.itemName="Boom",t.color="#02FFFF",t})(),I=(()=>{class t extends z{}return t.itemName="Expansion",t.color="#287AFF",t})(),E=(()=>{class t extends z{}return t.itemName="Bust",t.color="#003CFA",t})(),D=(()=>{class t extends z{}return t.itemName="Outbreak",t.color="#5E00E8",t})(),J=(()=>{class t extends z{}return t.itemName="Famine",t.color="#E600E9",t})(),j=(()=>{class t extends z{}return t.itemName="Election",t.color="#873B09",t})(),Z=(()=>{class t extends z{}return t.itemName="Investment",t.color="#FFFFFF",t})(),$=(()=>{class t extends z{}return t.itemName="Civil liberty",t.color="#FD308B",t})(),G=(()=>{class t extends z{}return t.itemName="Incursion",t.color="#5B002C",t})(),U=(()=>{class t extends z{}return t.itemName="Blight",t.color="#C1335B",t})(),L=(()=>{class t extends z{}return t.itemName="Natural disaster",t.color="#FF0205",t})(),W=(()=>{class t extends z{}return t.itemName="Infrastructure failure",t.color="#C5762B",t})(),X=(()=>{class t extends z{}return t.itemName="Drought",t.color="#04FF9F",t})(),_=(()=>{class t extends z{}return t.itemName="Terrorist Attack",t.color="#737270",t})(),H=(()=>{class t extends z{}return t.itemName="Public holiday",t.color="#823DB4",t})(),Y=(()=>{class t extends a.c{}return t.items=[P,B,A,V,O,R,T,I,E,D,J,j,Z,$,G,U,L,W,X,_,H],t})();var q=s("UR3C"),K=s("8dGy"),Q=s("4GCU");class tt extends K.a{constructor(){super(...arguments),this.eccentricity=0,this.orbitalInclination=0,this.orbitalPeriod=1,this.$artificials=[]}get artificials(){return this.$artificials}addArtificial(t){this.attach(t),this.$artificials.push(t)}load(t){super.load(t),this.radius=tt.KmToLs(t.radius),this.orbitalPeriod=t.orbitalPeriod?t.orbitalPeriod:0,this.semiMajorAxis=tt.AuToLs(t.semiMajorAxis?t.semiMajorAxis:0),this.orbitalInclination=t.orbitalInclination?t.orbitalInclination:0,this.eccentricity=t.eccentricity?t.eccentricity:0}updateView(t,e,s){const i=24*this.orbitalPeriod*60*60*1e3,r=(s*=2e4)%i/i,o=2*Math.PI*(r||0);Math.tan(.0174532925*this.orbitalInclination),t.position.x=this.semiMajorAxis*(Math.sin(o)-this.eccentricity),t.position.y=Math.cos(o)*this.semiMajorAxis*Math.sqrt(1-this.eccentricity*this.eccentricity),t.visible&&e.screen.renderText(t,t.name,{fallOffStart:3e7,fallOff:16})}}class et extends tt{constructor(){super(...arguments),this.$planets=[]}get planets(){return this.$planets}addPlanet(t){this.attach(t),this.$planets.push(t)}load(t){if(super.load(t),t.planets)for(const e of t.planets){const t=new et;t.load(e),this.addPlanet(t)}}createView(t){if(t.name=this.name,this.getParent()instanceof et){const e=new i.v(this.radius,25,25),s=new i.m({color:"gray"});return this.bodyMesh=new i.l(e,s),t.add(this.bodyMesh),void(t.visible=!1)}const e=new i.v(this.radius,25,25),s=new i.m({color:"green"});this.bodyMesh=new i.l(e,s),t.add(this.bodyMesh)}updateView(t,e,s){super.updateView(t,e,s),e instanceof Q.c&&(this.getParent()instanceof et?this.bodyMesh.scale.setScalar(100):this.bodyMesh.scale.setScalar(2))}}class st extends tt{constructor(){super(...arguments),this.$planets=[]}get planets(){return this.$planets}addPlanet(t){this.attach(t),this.$planets.push(t)}load(t){if(super.load(t),t.planets)for(const e of t.planets){const t=new et;t.load(e),this.addPlanet(t)}}createView(t){t.name=this.name;const e=new i.v(this.radius,25,25),s=new i.m({color:"yellow"});this.starMesh=new i.l(e,s),t.add(this.starMesh)}updateView(t,e,s){super.updateView(t,e,s),e instanceof Q.c&&this.starMesh.scale.setScalar(10)}}class it extends K.a{constructor(){super(...arguments),this.coords=new i.y,this.economies=[],this.$stars=[],this.$contacts=[]}get stars(){return this.$stars}get contacts(){return this.$contacts}addStar(t){this.attach(t),this.$stars.push(t)}load(t){super.load(t),t.coords&&this.coords.copy(t.coords);for(const e of t.stars){const t=new st;t.load(e),this.addStar(t)}}createView(t){t.name=this.name;const e=new i.v(.1,10,10);this.starMaterial=new i.m({color:this.getSystemColor()}),this.starMesh=new i.l(e,this.starMaterial),t.add(this.starMesh);const s=new i.i({color:"#006060",side:i.f,opacity:.5});s.transparent=!0;const r=new i.b(.2,10);this.baseMesh=new i.l(r,s),this.baseMesh.position.z=0,this.baseMesh.visible=!1,t.add(this.baseMesh);const o=new i.e(.015,.015,1,8);o.rotateX(.5*Math.PI),o.translate(0,0,.5),this.stemMesh=new i.l(o,s),this.stemMesh.visible=!1,t.add(this.stemMesh)}updateView(t,e,s){if(e instanceof Q.b){if(!e.isSystemVisible(this))return void(t.visible=!1);const s=e.cursor.getPosition(),i=s.z,r=t.position.distanceTo(s),o=e.cursor.getActualZoom()>30?e.cursor.getActualZoom():30;this.baseMesh.position.setZ(i-t.position.z),this.stemMesh.scale.z=i-t.position.z,this.baseMesh.visible=r<=10,this.stemMesh.visible=r<=10,this.starMaterial.color.set(this.getSystemColor()),t.visible=r<=o&&0!==this.starMaterial.color.getHex(),t.position.copy(this.coords),r<20&&e.screen.renderText(t,t.name.toUpperCase())}else t.visible=!0,this.baseMesh.visible=!1,this.stemMesh.visible=!1,this.starMesh.visible=!1}getSystemColor(){switch(q.a.starMode){case q.b.Realistic:break;case q.b.Allegiance:const t=o.a.items.find(t=>t.itemName===this.allegiance);if(t)return t.color;break;case q.b.Civilisation:break;case q.b.Government:const e=M.items.find(t=>t.itemName===this.government);if(e)return e.color;break;case q.b.Economy:if(this.economies.length>=1){const t=this.economies[0],e=r.a.items.find(e=>e.itemName===t);if(e)return e.color}break;case q.b.State:const s=Y.items.find(t=>t.itemName===this.factionState);if(s)return s.color;break;case q.b.Security:const i=C.a.items.find(t=>t.itemName===this.security);if(i)return i.color;break;case q.b.StarClass:const a=k.a.items.find(t=>t.itemName===this.starClass);if(a)return a.color}return"#505050"}}},NISJ:function(t,e,s){"use strict";s.d(e,"a",function(){return l});var i=s("/xNU");class r extends i.b{}let o=(()=>{class t extends r{}return t.itemName="High",t.color="#003BFD",t})(),a=(()=>{class t extends r{}return t.itemName="Medium",t.color="#00FEFF",t})(),n=(()=>{class t extends r{}return t.itemName="Low",t.color="#009500",t})(),c=(()=>{class t extends r{}return t.itemName="Anarchy",t.color="#FD0200",t})(),l=(()=>{class t extends i.c{}return t.items=[o,a,n,c],t})()},PFai:function(t,e,s){"use strict";s.d(e,"a",function(){return m});var i=s("/xNU");class r extends i.b{}let o=(()=>{class t extends r{}return t.itemName="None",t.color="#5C5C5C",t})(),a=(()=>{class t extends r{}return t.itemName="Federation",t.color="#FE0100",t})(),n=(()=>{class t extends r{}return t.itemName="Empire",t.color="#00A4FF",t})(),c=(()=>{class t extends r{}return t.itemName="Alliance",t.color="#02FF10",t})(),l=(()=>{class t extends r{}return t.itemName="Independent",t.color="#FBFC00",t})(),m=(()=>{class t extends i.c{}return t.items=[o,a,n,c,l],t})()},QzY6:function(t,e,s){"use strict";s.d(e,"a",function(){return y});var i=s("/xNU");class r extends i.b{}let o=(()=>{class t extends r{}return t.itemName="None",t.color="#5C5C5C",t})(),a=(()=>{class t extends r{}return t.itemName="Agriculture",t.color="#62FF00",t})(),n=(()=>{class t extends r{}return t.itemName="Extraction",t.color="#FF0000",t})(),c=(()=>{class t extends r{}return t.itemName="Tourism",t.color="#4800DC",t})(),l=(()=>{class t extends r{}return t.itemName="Colony",t.color="#1C62FF",t})(),m=(()=>{class t extends r{}return t.itemName="High Tech",t.color="#00FFFF",t})(),h=(()=>{class t extends r{}return t.itemName="Industrial",t.color="#FFFF00",t})(),u=(()=>{class t extends r{}return t.itemName="Military",t.color="#DC00DC",t})(),d=(()=>{class t extends r{}return t.itemName="Refinery",t.color="#FF6200",t})(),g=(()=>{class t extends r{}return t.itemName="Service",t.color="#002AFF",t})(),p=(()=>{class t extends r{}return t.itemName="Terraforming",t.color="#007E00",t})(),y=(()=>{class t extends i.c{}return t.items=[o,n,d,h,a,p,m,l,g,c,u],t})()},UR3C:function(t,e,s){"use strict";s.d(e,"b",function(){return i}),s.d(e,"a",function(){return n});var i=function(t){return t[t.Realistic=0]="Realistic",t[t.Allegiance=1]="Allegiance",t[t.Civilisation=2]="Civilisation",t[t.Government=3]="Government",t[t.Economy=4]="Economy",t[t.State=5]="State",t[t.Security=6]="Security",t[t.StarClass=7]="StarClass",t[t.Services=8]="Services",t[t.VisitedStars=9]="VisitedStars",t[t.Commodity=10]="Commodity",t}({});class r{constructor(){this.rangeFrom=10,this.rangeTo=20}}class o{}class a{constructor(){this.measures=1}}let n=(()=>{class t{}return t.starMode=i.Security,t.triangulate=new o,t.rangeFinder=new r,t.ruler=new a,t})()},hn8X:function(t,e,s){"use strict";s.d(e,"a",function(){return m});var i=s("lJxs"),r=s("Womt"),o=s("N5T1"),a=s("8dGy");class n extends a.a{constructor(){super(...arguments),this.reserved=[],this.blockStore=new Map,this.activeBlocks=new Map}reserveBlock(t,e,s){this.reserved.push(JSON.stringify({x:t,y:e,z:s}))}loadBlock(t,e,s,i){const r=JSON.stringify({x:t,y:e,z:s});this.blockStore.set(JSON.stringify({x:t,y:e,z:s}),i),this.reserved=this.reserved.filter(t=>t!==r)}activateBlock(t,e,s){const i=JSON.stringify({x:t,y:e,z:s});if(this.activeBlocks.get(i)||this.reserved.includes(i))return!0;const r=this.blockStore.get(JSON.stringify({x:t,y:e,z:s}));if(!r)return!1;const a=[];for(const n of r){const t=new o.a;t.name=n.name,n.information?(t.allegiance=n.information.allegiance,t.government=n.information.government,t.population=n.information.population,t.security=n.information.security,t.factionState=n.information.factionState,t.economies.push(n.information.economy),n.information.secondEconomy&&t.economies.push(n.information.secondEconomy)):(t.allegiance="None",t.government="None",t.population=0,t.economies.push("None")),n.primaryStar&&(t.starClass=n.primaryStar.type),t.coords.set(n.coords.x,n.coords.z,n.coords.y),this.attach(t),a.push(t)}return this.activeBlocks.set(JSON.stringify({x:t,y:e,z:s}),a),!0}deactivateBlocks(t,e,s,i){for(const r of this.activeBlocks.keys()){const o=JSON.parse(r);(Math.abs(t-o.x)>=i||Math.abs(e-o.y)>=i||Math.abs(s-o.z)>=i)&&this.deactivateBlock(o.x,o.y,o.z)}}deactivateBlock(t,e,s){const i=this.activeBlocks.get(JSON.stringify({x:t,y:e,z:s}));if(i){for(const t of i)this.delete(t);this.activeBlocks.delete(JSON.stringify({x:t,y:e,z:s}))}}createView(t){}updateView(t,e,s){}}var c=s("fXoL"),l=s("tk/3");let m=(()=>{class t{constructor(t){this.httpClient=t,this.starSector=new n}findStar(t){let e="systemName="+t;return e=e.concat("&showCoordinates=","1"),this.httpClient.get("https://www.edsm.net/api-v1/systems?"+e).pipe(Object(i.a)(t=>{for(const e of t)e.coords=new r.y(e.coords.x,e.coords.y,e.coords.z);return t}))}processCursor(t,e,s){const i=Math.floor(t/25+.5),r=Math.floor(s/25+.5),o=Math.floor(e/25+.5);for(let a=-1;a<=1;a++)for(let t=-1;t<=1;t++)for(let e=-1;e<=1;e++)this.processBlock(i+a,r+t,o+e);this.starSector.deactivateBlocks(i,r,o,2)}processBlock(t,e,s){if(!this.starSector.activateBlock(t,e,s)){this.starSector.reserveBlock(t,e,s);const i=window.localStorage.getItem("blockcache:"+JSON.stringify({x:t,y:e,z:s}));if(i){console.log("Loaded block from local storage",t,e,s);const r=JSON.parse(i);this.starSector.loadBlock(t,e,s,r),this.starSector.activateBlock(t,e,s)}else this.getStarSectorBlock(t,e,s).subscribe(i=>{console.log("Loaded block from edsm.net",t,e,s),window.localStorage.setItem("blockcache:"+JSON.stringify({x:t,y:e,z:s}),JSON.stringify(i)),this.starSector.loadBlock(t,e,s,i),this.starSector.activateBlock(t,e,s)})}}getStarSectorBlock(t,e,s){e*=25,s*=25;let i="x="+(t*=25).toString();return i=i.concat("&y=",e.toString()),i=i.concat("&z=",s.toString()),i=i.concat("&size=",25..toString()),i=i.concat("&showId=","1"),i=i.concat("&showCoordinates=","1"),i=i.concat("&showPermit=","1"),i=i.concat("&showInformation=","1"),i=i.concat("&showPrimaryStar=","1"),this.httpClient.get("https://www.edsm.net/api-v1/cube-systems?"+i)}getStarSystem(t){return this.httpClient.get("assets/data/systems/"+t+".json").pipe(Object(i.a)(t=>{const e=new o.a;return e.load(t),e}))}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(l.b))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"sX/a":function(t,e,s){"use strict";s.d(e,"a",function(){return F});var i=s("/xNU");class r extends i.b{}let o=(()=>{class t extends r{}return t.itemName="O-type stars",t.color="#0002FA",t})(),a=(()=>{class t extends r{}return t.itemName="B-type stars",t.color="#0B06F6",t})(),n=(()=>{class t extends r{}return t.itemName="A-type stars",t.color="#3419E4",t})(),c=(()=>{class t extends r{}return t.itemName="F-type stars",t.color="#56578F",t})(),l=(()=>{class t extends r{}return t.itemName="G-type stars",t.color="#8F8E34",t})(),m=(()=>{class t extends r{}return t.itemName="K-type stars",t.color="#B03313",t})(),h=(()=>{class t extends r{}return t.itemName="M-type stars",t.color="#FF1F02",t})(),u=(()=>{class t extends r{}return t.itemName="L-type stars",t.color="#FF1600",t})(),d=(()=>{class t extends r{}return t.itemName="T=type stars",t.color="#7A0000",t})(),g=(()=>{class t extends r{}return t.itemName="Y-type stars",t.color="#750000",t})(),p=(()=>{class t extends r{}return t.itemName="Proto stars",t.color="#7A0000",t})(),y=(()=>{class t extends r{}return t.itemName="Carbon stars",t.color="#929137",t})(),f=(()=>{class t extends r{}return t.itemName="Wolf-Rayet stars",t.color="#C4C5FE",t})(),x=(()=>{class t extends r{}return t.itemName="White dwarf stars",t.color="#545FF9",t})(),w=(()=>{class t extends r{}return t.itemName="Non sequence stars",t.color="#565857",t})(),F=(()=>{class t extends i.c{}return t.items=[o,a,n,c,l,m,h,u,d,g,p,y,f,x,w],t})()}}]);