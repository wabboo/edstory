(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"4A+J":function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("2Vo4");class n{constructor(){this.corporations=!0,this.altNavigationPanel=!1,this.passengerLines=!1,this.advisors=!1,this.mechanic=!1,this.restructuredShipPanels=!1,this.fleetCarriers=!0,this.odyssey=!1}}class o{}var a=s("fXoL");let r=(()=>{class t{constructor(){this.features=new i.a(new n),this.commander=new i.a(void 0);const t=new o;t.name="TestSubject",t.balance=1e7,this.commander.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},DzGr:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("IVc4"),n=s("ofXK"),o=s("fXoL");let a=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[n.b,i.a]]}),t})()},"FCE/":function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("fXoL"),n=s("ys0j"),o=s("PqYM");let a=(()=>{class t{constructor(){this.state=new i.n,this.keyMouseState=new n.a,this.tick=0}attach(t){this.domElement&&(this.domElement.removeEventListener("mousemove",t=>{this.mouseHandler(t,"move")}),this.domElement.removeEventListener("mousedown",t=>{this.mouseHandler(t,"down")}),this.domElement.removeEventListener("mouseup",t=>{this.mouseHandler(t,"up")}),this.domElement.removeEventListener("wheel",t=>{this.wheelHandler(t)})),this.domElement=t,this.domElement.addEventListener("mousemove",t=>{this.mouseHandler(t,"move")}),this.domElement.addEventListener("mousedown",t=>{this.mouseHandler(t,"down")}),this.domElement.addEventListener("mouseup",t=>{this.mouseHandler(t,"up")}),this.domElement.addEventListener("wheel",t=>{this.wheelHandler(t)}),this.processState()}mouseHandler(t,e){this.keyMouseState.applyMouse(t,e,this.tick),t.stopPropagation()}wheelHandler(t){this.keyMouseState.applyWheel(t,this.tick)}processState(){this.tick+=1,this.keyMouseState.userInput&&(this.state.emit(this.keyMouseState),this.keyMouseState.userInput=!1,this.keyMouseState.applyTick()),Object(o.a)(16.67).subscribe(()=>this.processState())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Jrv8:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("Womt"),n=s("krhP"),o=s("ys0j"),a=s("fXoL");let r=(()=>{class t{constructor(t){this.element=t,this.loader=new i.c,this.renderer=new i.m,this.scene=new i.j,this.camera=new i.h(60,window.innerWidth/window.innerHeight,1e-4,1e6),this.hud=new i.g,t.nativeElement.oncontextmenu=t=>{t.preventDefault()}}ngOnInit(){this.element.nativeElement.appendChild(this.renderer.domElement),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setAnimationLoop(()=>{this.renderFrame()}),this.camera.position.z=100,this.camera.position.y=-150,this.camera.rotation.x=1,this.scene.background=this.loader.load(["assets/backgrounds/space.jpg","assets/backgrounds/space.jpg","assets/backgrounds/space.jpg","assets/backgrounds/space.jpg","assets/backgrounds/space.jpg","assets/backgrounds/space.jpg"])}ngOnDestroy(){this.scene.dispose(),this.renderer.dispose()}onResize(t){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}resetViewport(t){this.scene.children=[],t.linkToScene(this.scene)}applyGamepadStateToMapCamera(t){const e=new i.l;this.camera.getWorldDirection(e),e.z=0;const s=e.clone().applyAxisAngle(new i.l(0,0,1),.5*Math.PI);t.buttonX===n.a.Click||t.buttonX===n.a.Hold?this.camera.position.z+=t.leftStickAxisY*(5/this.camera.zoom):(this.camera.position.addScaledVector(e,t.leftStickAxisY*(5/this.camera.zoom)),this.camera.position.addScaledVector(s,5/this.camera.zoom*-t.leftStickAxisX)),e.applyAxisAngle(new i.l(0,0,1),.5*Math.PI),this.camera.rotateOnWorldAxis(new i.l(0,0,1),-t.rightStickAxisX/(50*this.camera.zoom)),this.camera.rotateOnWorldAxis(e,-t.rightStickAxisY/(50*this.camera.zoom)),t.leftTrigger?(this.camera.zoom=1,this.camera.updateProjectionMatrix()):t.rightTrigger&&(this.camera.zoom+=this.camera.zoom/50,this.camera.updateProjectionMatrix())}applyMouseStateToMapCamera(t){t.deltaX/=2,t.deltaY/=2;const e=new i.l;this.camera.getWorldDirection(e),e.z=0;const s=e.clone().applyAxisAngle(new i.l(0,0,1),.5*Math.PI);t.leftMouse===o.b.Hold&&t.rightMouse===o.b.Hold?(this.camera.position.addScaledVector(e,t.deltaY*(1/this.camera.zoom)),this.camera.position.addScaledVector(s,t.deltaX*(1/this.camera.zoom))):t.rightMouse===o.b.Hold?this.camera.position.z+=t.deltaY:t.leftMouse===o.b.Hold&&(e.applyAxisAngle(new i.l(0,0,1),.5*Math.PI),this.camera.rotateOnWorldAxis(new i.l(0,0,1),t.deltaX/(50*this.camera.zoom)),this.camera.rotateOnWorldAxis(e,-t.deltaY/(50*this.camera.zoom))),t.deltaZ<0?(this.camera.zoom+=this.camera.zoom/10,this.camera.updateProjectionMatrix()):t.deltaZ>0&&(this.camera.zoom=1,this.camera.updateProjectionMatrix())}renderFrame(){this.tick=Date.now(),this.run(this.tick),this.renderer.render(this.scene,this.camera)}updateHud(){this.hud.children=[];const t=new i.i(5,5,1,1),e=new i.f({color:"blue",opacity:.5,transparent:!0,side:i.d}),s=new i.e(t,e);this.hud.add(s);const n=new i.l,o=new i.l;this.camera.getWorldDirection(n),this.camera.getWorldPosition(o),this.hud.position.copy(this.camera.position),this.hud.position.addScaledVector(n,5),this.hud.rotation.copy(this.camera.rotation)}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(a.l))},t.\u0275dir=a.Hb({type:t,hostBindings:function(t,e){1&t&&a.ac("resize",(function(t){return e.onResize(t)}),!1,a.nc)}}),t})()},U6jI:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("fXoL"),n=s("PqYM"),o=s("krhP");let a=(()=>{class t{constructor(){this.controller1=new i.n,this.gamepadState=new o.b,this.tick=0,window.addEventListener("gamepadconnected",t=>{this.gamepad=t.gamepad,this.processState()}),window.addEventListener("gamepaddisconnected",t=>{this.gamepad=void 0})}processState(){this.gamepad&&(this.gamepad=navigator.getGamepads()[this.gamepad.index],this.tick+=1,this.gamepadState.apply(this.gamepad,this.tick),this.gamepadState.userInput&&this.controller1.next(this.gamepadState),Object(n.a)(16.67).subscribe(()=>this.processState()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},UNDe:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var i=s("fXoL");let n=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["ed-frame-filler"]],decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto}"]}),t})()},krhP:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n}));var i=function(t){return t[t.Inactive=0]="Inactive",t[t.Click=2]="Click",t[t.Hold=3]="Hold",t}({});class n{constructor(){this.buttonTick=[],this.buttonA=i.Inactive,this.buttonB=i.Inactive,this.buttonX=i.Inactive,this.buttonY=i.Inactive,this.leftBumper=i.Inactive,this.rightBumper=i.Inactive,this.leftStick=i.Inactive,this.rightStick=i.Inactive,this.dPadUp=i.Inactive,this.dPadRight=i.Inactive,this.dPadDown=i.Inactive,this.dPadLeft=i.Inactive}get holdState(){return this.buttonA===i.Hold||this.buttonB===i.Hold||this.buttonX===i.Hold||this.buttonY===i.Hold||this.leftStick===i.Hold||this.rightStick===i.Hold||this.leftBumper===i.Hold||this.rightBumper===i.Hold||this.dPadUp===i.Hold||this.dPadRight===i.Hold||this.dPadDown===i.Hold||this.dPadLeft===i.Hold}apply(t,e){if(this.userInput=!1,this.buttonTick.length!==t.buttons.length){this.buttonTick=[];for(const e of t.buttons)this.buttonTick.push(void 0)}this.buttonA=this.processButton(0,t,e),this.buttonB=this.processButton(1,t,e),this.buttonX=this.processButton(2,t,e),this.buttonY=this.processButton(3,t,e),this.leftBumper=this.processButton(4,t,e),this.rightBumper=this.processButton(5,t,e),this.leftStick=this.processButton(10,t,e),this.rightStick=this.processButton(11,t,e),this.dPadUp=this.processButton(12,t,e),this.dPadDown=this.processButton(13,t,e),this.dPadLeft=this.processButton(14,t,e),this.dPadRight=this.processButton(15,t,e),this.leftTrigger=this.processButtonValue(6,t),this.rightTrigger=this.processButtonValue(7,t),this.leftStickAxisX=this.processAxis(0,t,!1),this.leftStickAxisY=this.processAxis(1,t,!0),this.rightStickAxisX=this.processAxis(2,t,!1),this.rightStickAxisY=this.processAxis(3,t,!0)}processButton(t,e,s){if(t>=e.buttons.length)return i.Inactive;if(void 0===this.buttonTick[t])e.buttons[t].pressed&&(this.buttonTick[t]=s);else if(e.buttons[t].pressed){if(s-this.buttonTick[t]>15)return this.userInput=!0,i.Hold}else{if(s-this.buttonTick[t]<=15)return this.userInput=!0,this.buttonTick[t]=void 0,i.Click;this.buttonTick[t]=void 0}return i.Inactive}processButtonValue(t,e){return t>=e.buttons.length?0:e.buttons[t].value>.1?(this.userInput=!0,e.buttons[t].value):0}processAxis(t,e,s){return t>=e.axes.length?0:Math.abs(e.axes[t])>.1?(this.userInput=!0,s?-e.axes[t]:e.axes[t]):0}}},vHk7:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var i=s("lJxs"),n=s("VO3d"),o=s("Womt");class a extends n.a{constructor(){super(...arguments),this.eccentricity=0,this.orbitalInclination=0,this.orbitalPeriod=1,this.$artificials=[]}get artificials(){return this.$artificials}addStation(t){this.attach(t),this.$artificials.push(t)}addInstallation(t){this.attach(t),this.$artificials.push(t)}load(t){super.load(t),this.radius=a.KmToLs(t.radius),this.orbitalPeriod=t.orbitalPeriod?t.orbitalPeriod:0,this.semiMajorAxis=a.AuToLs(t.semiMajorAxis?t.semiMajorAxis:0),this.orbitalInclination=t.orbitalInclination?t.orbitalInclination:0}run(t){super.run(t);for(const e of this.artificials)e.run(t)}applyLod(t,e){}addMarkerToContext(t,e,s=!1){if(s){const s=new o.b(1,2,10),i=new o.f({color:new o.a(e)});i.opacity=.5,i.transparent=!0;const n=new o.e(s,i);n.position.z=1+this.radius,n.rotation.x=-.5*Math.PI,t.add(n)}else{const s=new o.b(2.5,5,10),i=new o.f({color:new o.a(e)});i.opacity=.5,i.transparent=!0;const n=new o.e(s,i);n.position.z=2.5+this.radius,n.rotation.x=-.5*Math.PI,t.add(n)}}updateContext(t,e){const s=24*this.orbitalPeriod*60*60*1e3,i=2*Math.PI*(e%s/s||0),n=Math.tan(.0174532925*this.orbitalInclination)*this.semiMajorAxis;t.position.x=Math.sin(i)*this.semiMajorAxis,t.position.y=Math.cos(i)*this.semiMajorAxis*(1-this.eccentricity),t.position.z=Math.sin(i)*n}}class r extends a{constructor(){super(...arguments),this.$planets=[]}get planets(){return this.$planets}addPlanet(t){this.attach(t),this.$planets.push(t)}load(t){if(super.load(t),t.planets)for(const e of t.planets){const t=new r;t.load(e),this.addPlanet(t)}}run(t){super.run(t);for(const e of this.planets)e.run(t)}applyLod(t,e){if(super.applyLod(t,e),this.getParent()instanceof r){this.addMarkerToContext(t,"gray",!0);const e=new o.k(this.radius,25,25),s=new o.f({color:"gray"}),i=new o.e(e,s);t.add(i)}else{this.addMarkerToContext(t,"green");const e=new o.k(this.radius,25,25),s=new o.f({color:"green"}),i=new o.e(e,s);t.add(i)}}}class c extends a{constructor(){super(...arguments),this.$planets=[]}get planets(){return this.$planets}addPlanet(t){this.attach(t),this.$planets.push(t)}load(t){if(super.load(t),t.planets)for(const e of t.planets){const t=new r;t.load(e),this.addPlanet(t)}}run(t){super.run(t);for(const e of this.planets)e.run(t)}applyLod(t,e){super.applyLod(t,e),this.addMarkerToContext(t,"yellow");const s=new o.k(this.radius,25,25),i=new o.f({color:"yellow"}),n=new o.e(s,i);t.name=this.name,t.add(n)}}class h extends n.a{constructor(){super(...arguments),this.$stars=[],this.$contacts=[]}get stars(){return this.$stars}get contacts(){return this.$contacts}addStar(t){this.attach(t),this.$stars.push(t)}load(t){super.load(t);for(const e of t.stars){const t=new c;t.load(e),this.addStar(t)}}run(t){super.run(t);for(const e of this.$stars)e.run(t);for(const e of this.$contacts)e.run(t)}applyLod(t,e){}updateContext(t,e){}}var d=s("fXoL"),u=s("tk/3");let l=(()=>{class t{constructor(t){this.httpClient=t}getStarSystem(t){return this.httpClient.get("assets/data/systems/"+t+".json").pipe(Object(i.a)(t=>{const e=new h;return e.load(t),e}))}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(u.b))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ys0j:function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return n}));var i=function(t){return t[t.Inactive=0]="Inactive",t[t.Hold=1]="Hold",t[t.Click=2]="Click",t}({});class n{constructor(){this.leftMouse=i.Inactive,this.middleMouse=i.Inactive,this.rightMouse=i.Inactive}applyMouse(t,e,s){switch(this.deltaX=t.clientX-this.x,this.deltaY=t.clientY-this.y,this.x=t.clientX,this.y=t.clientY,e){case"down":0===t.button&&this.leftMouse===i.Inactive&&(this.leftMouse=i.Hold,this.userInput=!0),1===t.button&&this.middleMouse===i.Inactive&&(this.middleMouse=i.Hold,this.userInput=!0),2===t.button&&this.rightMouse===i.Inactive&&(this.rightMouse=i.Hold,this.userInput=!0);break;case"up":0===t.button&&this.leftMouse===i.Hold&&(this.leftMouse=i.Click,this.userInput=!0),1===t.button&&this.middleMouse===i.Hold&&(this.middleMouse=i.Click,this.userInput=!0),2===t.button&&this.rightMouse===i.Hold&&(this.rightMouse=i.Click,this.userInput=!0)}(this.deltaX||this.deltaY)&&(this.userInput=!0)}applyTick(){this.deltaZ=0,this.leftMouse===i.Click&&(this.leftMouse=i.Inactive,this.userInput=!0),this.rightMouse===i.Click&&(this.rightMouse=i.Inactive,this.userInput=!0),this.middleMouse===i.Click&&(this.middleMouse=i.Inactive,this.userInput=!0)}applyWheel(t,e){this.deltaZ=t.deltaY,this.deltaZ&&(this.userInput=!0)}}}}]);